<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML
><HEAD
><TITLE
>The ipv6calc Homepage</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.79"></HEAD
><BODY
CLASS="ARTICLE"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="ARTICLE"
><DIV
CLASS="TITLEPAGE"
><H1
CLASS="TITLE"
><A
NAME="AEN2"
>The ipv6calc Homepage</A
></H1
><H3
CLASS="AUTHOR"
><A
NAME="AEN4"
>Peter Bieringer</A
></H3
><DIV
CLASS="AFFILIATION"
><DIV
CLASS="ADDRESS"
><P
CLASS="ADDRESS"
>pb&nbsp;at&nbsp;bieringer&nbsp;dot&nbsp;de</P
></DIV
></DIV
><DIV
CLASS="REVHISTORY"
><TABLE
WIDTH="100%"
BORDER="0"
><TR
><TH
ALIGN="LEFT"
VALIGN="TOP"
COLSPAN="3"
><B
>Revision History</B
></TH
></TR
><TR
><TD
ALIGN="LEFT"
>Revision 10.0</TD
><TD
ALIGN="LEFT"
>2020-10-13</TD
><TD
ALIGN="LEFT"
>Revised by: PB</TD
></TR
><TR
><TD
ALIGN="LEFT"
COLSPAN="3"
></TD
></TR
></TABLE
></DIV
><HR></DIV
><DIV
CLASS="TOC"
><DL
><DT
><B
>Table of Contents</B
></DT
><DT
>1. <A
HREF="#AEN14"
>General</A
></DT
><DD
><DL
><DT
>1.1. <A
HREF="#AEN20"
>Latest version</A
></DT
><DT
>1.2. <A
HREF="#AEN23"
>Included programs</A
></DT
><DT
>1.3. <A
HREF="#AEN38"
>Included databases</A
></DT
><DT
>1.4. <A
HREF="#AEN52"
>Possible external databases</A
></DT
></DL
></DD
><DT
>2. <A
HREF="#AEN95"
>License</A
></DT
><DT
>3. <A
HREF="#AEN98"
>Copyright</A
></DT
><DT
>4. <A
HREF="#AEN101"
>Author</A
></DT
><DT
>5. <A
HREF="#AEN108"
>Where to get sources or binaries</A
></DT
><DD
><DL
><DT
>5.1. <A
HREF="#AEN110"
>Latest version of sources</A
></DT
><DT
>5.2. <A
HREF="#AEN116"
>Releases</A
></DT
><DT
>5.3. <A
HREF="#AEN146"
>Ready to use packages for several operating systems:</A
></DT
></DL
></DD
><DT
>6. <A
HREF="#AEN198"
>Configuring &#38; Compiling</A
></DT
><DD
><DL
><DT
>6.1. <A
HREF="#AEN200"
>Configuring</A
></DT
><DT
>6.2. <A
HREF="#AEN204"
>Compiling</A
></DT
><DT
>6.3. <A
HREF="#AEN212"
>Configuring &#38; Compiling with Presets</A
></DT
></DL
></DD
><DT
>7. <A
HREF="#AEN216"
>Mailling Lists</A
></DT
><DD
><DL
><DT
>7.1. <A
HREF="#AEN218"
>ipv6calc-announce</A
></DT
><DT
>7.2. <A
HREF="#AEN238"
>ipv6calc</A
></DT
></DL
></DD
><DT
>8. <A
HREF="#AEN258"
>Bug Reports</A
></DT
><DT
>9. <A
HREF="#AEN261"
>Features of ipv6calc</A
></DT
><DD
><DL
><DT
>9.1. <A
HREF="#AEN263"
>Description</A
></DT
><DT
>9.2. <A
HREF="#AEN266"
>List of built-in features</A
></DT
><DT
>9.3. <A
HREF="#AEN275"
>Examples</A
></DT
><DT
>9.4. <A
HREF="#AEN343"
>Option style</A
></DT
><DT
>9.5. <A
HREF="#AEN355"
>Online help</A
></DT
></DL
></DD
><DT
>10. <A
HREF="#AEN440"
>Webserver log conversion helper program "ipv6logconv"</A
></DT
><DD
><DL
><DT
>10.1. <A
HREF="#AEN443"
>Supported options</A
></DT
><DT
>10.2. <A
HREF="#AEN446"
>Examples</A
></DT
><DT
>10.3. <A
HREF="#AEN450"
>Usage</A
></DT
></DL
></DD
><DT
>11. <A
HREF="#AEN455"
>Webserver log anonymization helper program "ipv6loganon"</A
></DT
><DD
><DL
><DT
>11.1. <A
HREF="#AEN460"
>Anonymization details</A
></DT
><DT
>11.2. <A
HREF="#AEN512"
>Supported log file formats</A
></DT
><DT
>11.3. <A
HREF="#AEN519"
>Supported options</A
></DT
><DT
>11.4. <A
HREF="#AEN522"
>Usage</A
></DT
></DL
></DD
><DT
>12. <A
HREF="#AEN543"
>External database update helper scripts</A
></DT
><DD
><DL
><DT
>12.1. <A
HREF="#AEN546"
>IP2Location</A
></DT
><DT
>12.2. <A
HREF="#AEN549"
>GeoIP</A
></DT
><DT
>12.3. <A
HREF="#AEN553"
>DB-IP.com</A
></DT
><DT
>12.4. <A
HREF="#AEN557"
>External</A
></DT
></DL
></DD
><DT
>13. <A
HREF="#AEN560"
>Perl CGI wrapper program "ipv6calcweb.cgi"</A
></DT
><DD
><DL
><DT
>13.1. <A
HREF="#AEN563"
>Examples</A
></DT
></DL
></DD
><DT
>14. <A
HREF="#AEN579"
>Webserver log statistics helper program "ipv6logstats"</A
></DT
><DD
><DL
><DT
>14.1. <A
HREF="#AEN583"
>Supported options</A
></DT
><DT
>14.2. <A
HREF="#AEN586"
>Usage</A
></DT
><DT
>14.3. <A
HREF="#AEN620"
>Examples</A
></DT
></DL
></DD
><DT
>15. <A
HREF="#AEN624"
>Apache web server module &#8220;mod_ipv6calc&#8221;</A
></DT
><DD
><DL
><DT
>15.1. <A
HREF="#AEN650"
>Installation</A
></DT
><DT
>15.2. <A
HREF="#AEN654"
>Configuration</A
></DT
><DT
>15.3. <A
HREF="#AEN666"
>Result</A
></DT
><DT
>15.4. <A
HREF="#AEN670"
>Post-analysis in case of anonymization method &#8220;keep-type-asn-cc&#8221;</A
></DT
></DL
></DD
><DT
>16. <A
HREF="#AEN674"
>History</A
></DT
><DD
><DL
><DT
>16.1. <A
HREF="#AEN677"
>2020</A
></DT
><DT
>16.2. <A
HREF="#AEN684"
>2019</A
></DT
><DT
>16.3. <A
HREF="#AEN699"
>2017</A
></DT
><DT
>16.4. <A
HREF="#AEN709"
>2016</A
></DT
><DT
>16.5. <A
HREF="#AEN714"
>2015</A
></DT
><DT
>16.6. <A
HREF="#AEN729"
>2014</A
></DT
><DT
>16.7. <A
HREF="#AEN734"
>2013</A
></DT
><DT
>16.8. <A
HREF="#AEN743"
>2011</A
></DT
><DT
>16.9. <A
HREF="#AEN760"
>2002-2010</A
></DT
><DT
>16.10. <A
HREF="#AEN764"
>2001</A
></DT
></DL
></DD
></DL
></DIV
><DIV
CLASS="SECT1"
><H2
CLASS="SECT1"
><A
NAME="AEN14"
>1. General</A
></H2
><P
>ipv6calc is a small utility written in programming language C to manipulate (not only) IPv6 addresses and is able to do other tricky things. Intentions were convering a given IPv6 address into compressed format, convering a given IPv6 address into the same format like shown in /proc/net/if_inet6 and (because it was not difficulty) migrating the Perl program ip6_int into. Now only one utiltity is needed to do a lot.</P
><P
>This utility was also used in the past to extend features on network-functions-ipv6 library, used by initscripts-ipv6.</P
><P
>Note: this tool got also its <A
HREF="http://freecode.com/projects/ipv6calc/"
TARGET="_top"
>freecode.com (former freshmeat, now also EOL) / ipv6calc</A
> page (but this is not maintained by the author)</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN20"
>1.1. Latest version</A
></H3
><P
>Latest version since last update of this page is 3.0.0</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN23"
>1.2. Included programs</A
></H3
><P
></P
><UL
><LI
><P
>&#8220;ipv6calc&#8221;: the main utility</P
></LI
><LI
><P
>&#8220;ipv6calcweb&#8221;: CGI wrapper for ipv6calc's address information output</P
></LI
><LI
><P
>&#8220;ipv6logconv&#8221;: log converter (IPv4/IPv6)</P
></LI
><LI
><P
>&#8220;ipv6loganon&#8221;: log anonymizer (IPv4/IPv6)</P
></LI
><LI
><P
>&#8220;ipv6logstats&#8221;: log statistic generator (IPv4/IPv6)</P
></LI
><LI
><P
>&#8220;mod_ipv6calc&#8221;: Apache module</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN38"
>1.3. Included databases</A
></H3
><P
>If not disabled during compiling of the tool, following databases are statically included, since version 0.95.0 internally mentioned as &#8220;BuiltIn&#8221;:</P
><P
></P
><UL
><LI
><P
>IEEE IAB, OUI, OUI-28, OUI-36 databases (for decoding vendor part of MAC/EUI-48/EUI-64)</P
></LI
><LI
><P
>IPv4 assignment databases from IANA, ARIN, RIPENCC, APNIC, LACNIC, AFRINIC (for selecting proper registry in ipv6calcweb.cgi and IPv4 anonymization)</P
></LI
><LI
><P
>IPv6 assignment databases from IANA, ARIN, RIPENCC, APNIC, LACNIC, AFRINIC (for selecting proper registry in ipv6calcweb.cgi and IPv6 anonymization)</P
></LI
><LI
><P
>ASN assignment databases from IANA, ARIN, RIPENCC, APNIC, LACNIC, AFRINIC (for IPv4/IPv6 anonymization)</P
></LI
><LI
><P
>LISP assignment database for supplying extra info</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN52"
>1.4. Possible external databases</A
></H3
><P
>If enabled during compiling the tool, following external (but local stored) databases can be used</P
><P
></P
><UL
><LI
><P
><A
HREF="http://www.maxmind.com/"
TARGET="_top"
>GeoIP</A
></P
><P
></P
><UL
><LI
><P
>IPv4 &#8220;legacy&#8221; (since 0.61.0, released 2006 until 3.0.0 released 2020)</P
></LI
><LI
><P
>IPv6 &#8220;legacy&#8221; (since 0.90.0, released 2011, req. GeoIP &#62;= 1.4.5 until 3.0.0 released 2020)</P
></LI
><LI
><P
>GeoIP2 (native MaxMindDB file support since 2.0.0, release 2019)</P
></LI
></UL
></LI
><LI
><P
><A
HREF="http://www.ip2location.com/"
TARGET="_top"
>IP2Location</A
></P
><P
></P
><UL
><LI
><P
>IPv4 (since 0.60.0, released 2006)</P
></LI
><LI
><P
>IPv6 (since 0.70.0, released 2007, <A
HREF="http://lite.ip2location.com/"
TARGET="_top"
>IP2Location LITE IPv6 Databases</A
> since 0.99.0, released 2015)</P
></LI
><LI
><P
>release 0.99.0 is tested against IP2Location &#62;= 4.0.2</P
></LI
><LI
><P
>release &#62;= 2.0.0 &#38;&#38; &#60; 3.0.0 is only working with IP2Location &#62;= 7.0.1</P
></LI
><LI
><P
>release &#62;= 3.0.0 is only working with IP2Location &#62;= 8.2.0</P
></LI
></UL
></LI
><LI
><P
><A
HREF="http://www.db-ip.com/"
TARGET="_top"
>DB-IP.com</A
></P
><P
></P
><UL
><LI
><P
>(since 0.98.0, released 2015 until 3.0.0 released 2020) based on local Berkeley DB files generated from downloaded CSV files</P
></LI
><LI
><P
>native MaxMindDB files (support since 2.0.0, released 2019)</P
></LI
></UL
></LI
><LI
><P
>&#8220;External&#8221; (since 0.98.0, released 2015), based on local Berkeley DB files, generated from downloaded TXT/XML files (registries assignment databases). Supporting IPv4/IPv6 to Registries and IPv4/IPv6 to CountryCode. If newer, overruling the related included databases.</P
></LI
></UL
><P
>Since version 0.95.0 the tool can be compiled to use dynamically loading of library, means the binaries can be also used on systems where IP2Location or GeoIP libraries are not existing. On such system, the support is simply disabled then and some capabilities/features which requires the databases are disabled.</P
><P
>Since version 0.97.4 also fallback code for GeoIP and IP2Location is included in the source package, means that support of dynamically loading of library can be included during compilation without having related development sources on the system.</P
><P
>Since version 2.0.0 MaxMindDB is supported (linked or dynamically loaded)</P
><P
>Since version 3.0.0 GeoIP(legacy) and db-ip.com(BerkeleyDB) is remoed</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN95"
>2. License</A
></H2
><P
>The program is published under the GNU GPL version 2.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN98"
>3. Copyright</A
></H2
><P
>(C) 2001 - 2020 by Dr. Peter Bieringer</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN101"
>4. Author</A
></H2
><P
>The author of ipv6calc is</P
><P
></P
><UL
><LI
><P
><A
HREF="mailto:pb@bieringer.de"
TARGET="_top"
>Dr. Peter Bieringer</A
> with some minor contribution by others</P
></LI
></UL
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN108"
>5. Where to get sources or binaries</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN110"
>5.1. Latest version of sources</A
></H3
><P
></P
><UL
><LI
><P
>Via GitHub (since 2016-09-05) at <A
HREF="https://github.com/pbiering/ipv6calc"
TARGET="_top"
>GitHub / ipv6calc</A
></P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN116"
>5.2. Releases</A
></H3
><DIV
CLASS="SECT3"
><H4
CLASS="SECT3"
><A
NAME="AEN118"
>5.2.1. as tar.gz or zip</A
></H4
><P
></P
><UL
><LI
><P
>via HTTPS at <A
HREF="https://github.com/pbiering/ipv6calc/releases"
TARGET="_top"
>GitHub / ipv6calc / releases</A
> </P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN124"
>5.2.2. as tar.gz (signed)</A
></H4
><P
></P
><UL
><LI
><P
>Via FTP at <A
HREF="http://www.deepspace6.net/"
TARGET="_top"
>DeepSpace6</A
>: <A
HREF="ftp://ftp.deepspace6.net/pub/ds6/sources/ipv6calc/"
TARGET="_top"
>DeepSpace6 / anonymous FTP</A
></P
></LI
><LI
><P
>Via FTP at <A
HREF="ftp://ftp.bieringer.de/pub/linux/IPv6/ipv6calc/"
TARGET="_top"
>ftp://ftp.bieringer.de/pub/linux/IPv6/ipv6calc/</A
></P
></LI
></UL
><P
>Since version 0.95.0 packages are signed with new GPG key, also available here: <A
HREF="ftp://ftp.bieringer.de/pub/linux/IPv6/ipv6calc/CODE-GPG-KEY-bieringer.de-2013"
TARGET="_top"
>CODE-GPG-KEY-bieringer.de-2013 @ftp.bieringer.de</A
> or <A
HREF="ftp://ftp.deepspace6.net/pub/ds6/sources/ipv6calc/CODE-GPG-KEY-bieringer.de-2013"
TARGET="_top"
>CODE-GPG-KEY-bieringer.de-2013 @ftp.deepspace6.net</A
></P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>Key fingerprint: AAB3 8CB7 97C7 50C7 78C6 08C6 DDEB 141D F738 0F61
uid: Peter Bieringer (Code Signing Key 2013) &#60;code@bieringer.de&#62;</PRE
></FONT
></TD
></TR
></TABLE
><P
>A SPEC file is included, so you can build a RPM from tar.gz using</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ rpmbuild -ta path/to/ipv6calc-$version.tar.gz</PRE
></FONT
></TD
></TR
></TABLE
><P
>In addition, conditional build options are available (see related configure options below):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>--without ip2location
--without mmdb (which disables GeoIP v2 and db-ip.com v2)
--without external
--without shared
--without mod_ipv6calc</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN142"
>5.2.3. as RPM</A
></H4
><P
>Can be searched via <A
HREF="http://www.rpmfind.net/linux/rpm2html/search.php?query=ipv6calc"
TARGET="_top"
>rpmfind / ipv6calc</A
>.</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN146"
>5.3. Ready to use packages for several operating systems:</A
></H3
><DIV
CLASS="SECT3"
><H4
CLASS="SECT3"
><A
NAME="AEN148"
>5.3.1. Fedora Linux</A
></H4
><P
>Fedora 29 is the current developing platform, so use given hints above to create a RPM. Since Fedora 7 this package is included by default.</P
><P
>See also <A
HREF="https://src.fedoraproject.org/rpms/ipv6calc"
TARGET="_top"
>FedoraProject / Packages / ipv6calc</A
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN153"
>5.3.2. Red Hat Enterprise Linux and clones</A
></H4
><P
>It's tested by the developer that creation of the RPM is working fine starting with RHEL 4.</P
><P
></P
><UL
><LI
><P
>RHEL/CentOS 5 has the package included by default (but an rather old version)</P
><P
></P
><UL
><LI
><P
>RPMs of newer releases are available as test builds on koji, see related URL in announcements <A
HREF="https://lists.deepspace6.net/pipermail/ipv6calc-announce/"
TARGET="_top"
>ipv6calc-announce / list archive</A
></P
></LI
><LI
><P
>*** Untested since version 2.0.0 because OS is out of support ***</P
></LI
></UL
></LI
><LI
><P
>RHEL/CentOS 6/7/8: available since September 2014 on <A
HREF="https://fedoraproject.org/wiki/EPEL"
TARGET="_top"
>FedoraProject / EPEL</A
>, see also <A
HREF="https://src.fedoraproject.org/rpms/ipv6calc"
TARGET="_top"
>FedoraProject / Packages / ipv6calc</A
></P
></LI
></UL
><P
>CentOS 6/7/8 are also platforms for regression tests.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN170"
>5.3.3. Gentoo/Funtoo</A
></H4
><P
>Package is maintained, nevertheless, Funtoo is used as platform for regression tests.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN173"
>5.3.4. Ubuntu</A
></H4
><P
>Package is maintained, more information can be found at <A
HREF="https://packages.ubuntu.com/ipv6calc"
TARGET="_top"
>https://packages.ubuntu.com/ipv6calc</A
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN177"
>5.3.5. Debian GNU/Linux</A
></H4
><P
>Package is maintained, more information can be found at <A
HREF="http://packages.debian.org/ipv6calc"
TARGET="_top"
>http://packages.debian.org/ipv6calc</A
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN181"
>5.3.6. openSUSE</A
></H4
><P
>Package is maintained, more information can be found at <A
HREF="http://download.opensuse.org/repositories/home:/uebelhacker/"
TARGET="_top"
>http://download.opensuse.org/repositories/home:/uebelhacker/</A
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN185"
>5.3.7. NetBSD</A
></H4
><P
>See here for more: <A
HREF="ftp://ftp.netbsd.org/pub/pkgsrc/current/pkgsrc/net/ipv6calc/README.html"
TARGET="_top"
>ftp://ftp.netbsd.org/pub/pkgsrc/current/pkgsrc/net/ipv6calc/README.html</A
></P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN189"
>5.3.8. FreeBSD</A
></H4
><P
>See here for more: <A
HREF="http://www.freshports.org/net-mgmt/ipv6calc/"
TARGET="_top"
>http://www.freshports.org/net-mgmt/ipv6calc/</A
> (<A
HREF="http://www.freebsd.org/cgi/query-pr.cgi?pr=34441"
TARGET="_top"
>http://www.freebsd.org/cgi/query-pr.cgi?pr=34441</A
>)</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN194"
>5.3.9. OpenBSD</A
></H4
><P
>See here for more: <A
HREF="http://www.openbsd.org/cgi-bin/cvsweb/ports/net/ipv6calc/"
TARGET="_top"
>http://www.openbsd.org/cgi-bin/cvsweb/ports/net/ipv6calc/</A
></P
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN198"
>6. Configuring &#38; Compiling</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN200"
>6.1. Configuring</A
></H3
><P
>Following &#8220;ipc6calc&#8221; related configure options are currently supported (note: disabling the internal databases reduces the size of the resulting binaries/shared library a lot):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>--disable-dynamic-load  Disable dynamic load of libraries (default: enabled)

--disable-db-ieee       Disable build-in IEEE database (default: enabled)
--disable-db-ipv4       Disable build-in IPv4 database (default: enabled)
--disable-db-ipv6       Disable build-in IPv6 database (default: enabled)
--disable-db-as-registry Disable built-in AS-to-Registry database (default: enabled)
--disable-db-cc-registry Disable built-in CountryCode-to-Registry database (default: enabled) 
--disable-geoip2        Disable MaxMindDB support for GeoIP (default: enabled)
--disable-dbip2         Disable MaxMindDB support for db-ip.com (default: enabled) 
--enable-mmdb           Enable MaxMindDB support (GeoIP/db-ip.com) (default: disabled) 
--enable-external       Enable external db support (default: disabled) 
--enable-ip2location    Enable IP2Location support (default: disabled)
--enable-mod_ipv6calc   Enable build of mod_ipv6calc for Apache (default: disabled) 

--with-mmdb-dynamic     Enable use of dynamic loading of MaxMindDB library (default=no)
--with-mmdb-headers=DIR MaxMindDB include files location
--with-mmdb-lib=DIR     MaxMindDB library location
--with-mmdb-dyn-lib=NAME Use specified MaxMindDB dynamic library, default: libmaxminddb.so.0 

--with-ip2location-headers=DIR      IP2Location include files location
--with-ip2location-headers-fallback IP2Location include files from internal fallback location (only usable with dynamic load option)                          
--with-ip2location-lib=FILE         IP2Location library location
--with-ip2location-static           Explicitly link IP2Location statically (default=no)
--with-ip2location-dynamic          Enable use of dynamic loading of IP2Location library (default=no)
--with-ip2location-db=DIR           Use specified IP2Location database directory, default: /usr/share/IP2Location
--with-ip2location-dyn-lib=NAME     Use specified IP2Location dynamic library, default: libIP2Location.so

--with-geoip-db=DIR             Use specified GeoIP database directory, default: /usr/share/GeoIP

--with-dbip-db=DIR      Use specified db-ip.com database directory, default: /usr/share/DBIP

--with-external-db=DIR  Use specified external database directory, default: /usr/share/ipv6calc/db 

--with-apxs=NAME        name of the apxs executable (apxs) 

--enable-shared                 Enable shared library build (default: disabled)

--enable-bundled-getopt         Enable bundled getopt library (default: autoselected)
--enable-bundled-md5            Enable bundled MD5 library (default: autoselected)</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN204"
>6.2. Compiling</A
></H3
><P
>As usual, use</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ make</PRE
></FONT
></TD
></TR
></TABLE
><P
>and run tests afterwards using</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ make test</PRE
></FONT
></TD
></TR
></TABLE
><P
>or at least (e.g. if external databases are not available)</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ make test-minimal</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN212"
>6.3. Configuring &#38; Compiling with Presets</A
></H3
><P
>A shell script is included which can configure and compile with standard presets (also used during regression tests):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ./autogen.sh -h
Supported options:
   -?|-h|--help        : this help
   -n|--no-make        : stop before running 'make'
   -a|--all            : enable GeoIP/IP2Location/db-ip.com/External/mod_ipv6calc support
   -A|--ALL            : enable GeoIP/IP2Location/db-ip.com/External/mod_ipv6calc support with dynamic library support
   -m|--mmdb           : enable MaxMindDB support (GeoIP/db-ip.com)
   --mmdb-dyn|-M       : switch to dynamic library loading of MaxMindDB
   --disable-geoip2    : disable MaxMindDB support for GeoIP
   --disable-dbip2     : disable MaxMindDB support for db-ip.com
   -i|--ip2location    : enable IP2Location support
   --ip2location-dyn|-I: switch to dynamic library loading of IP2Location
   -e|--external       : enable external database support
   --disable-db-ieee   : disable built-in IEEE database
   --disable-db-ipv4   : disable built-in IPv4 database
   --disable-db-ipv6   : disable built-in IPv6 database
   -S                  : enable shared library mode
   --no-static-build   : skip static build
   --no-test           : skip 'make test'
   --clang             : use 'clang' instead of default (usually 'gcc')
   --m32               : compile for 32-bit
   --relax             : don't stop on compiler warnings</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN216"
>7. Mailling Lists</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN218"
>7.1. ipv6calc-announce</A
></H3
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Reason:</DT
><DD
><P
>sending announcements of new versions</P
></DD
><DT
>Traffic:</DT
><DD
><P
>very low</P
></DD
><DT
>Postings:</DT
><DD
><P
>only moderators are allowed to post</P
></DD
><DT
>Information:</DT
><DD
><P
><A
HREF="http://lists.deepspace6.net/listinfo/ipv6calc-announce"
TARGET="_top"
>DeepSpace6 / maillist ipv6calc-announce</A
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN238"
>7.2. ipv6calc</A
></H3
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
>Reason:</DT
><DD
><P
>discussions</P
></DD
><DT
>Traffic:</DT
><DD
><P
>low</P
></DD
><DT
>Postings:</DT
><DD
><P
>subscribers</P
></DD
><DT
>Information:</DT
><DD
><P
><A
HREF="http://lists.deepspace6.net/listinfo/ipv6calc"
TARGET="_top"
>DeepSpace6 / maillist ipv6calc</A
></P
></DD
></DL
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN258"
>8. Bug Reports</A
></H2
><P
>You can send bug reports to the author himself or subscribe to maillist &#8220;ipv6calc&#8221; and send it to the list.</P
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN261"
>9. Features of ipv6calc</A
></H2
><DIV
CLASS="SECT2"
><H3
CLASS="SECT2"
><A
NAME="AEN263"
>9.1. Description</A
></H3
><P
>The main program named &#8220;ipv6calc&#8221; is able to recognize many (not only) IPv6 address formats and depending on a selectable action (not required) a selectable output format can be specified. Also it has the capability to show detailed information of an IPv4/IPv6 address or anonymize it.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN266"
>9.2. List of built-in features</A
></H3
><P
>Option &#8220;-v&#8221; shows built-in features, depending on configuration before compiling:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -v
ipv6calc: version 3.0.0 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID</PRE
></FONT
></TD
></TR
></TABLE
><P
>Option &#8220;-v -v&#8221; (since 0.91.0) shows built-in features and capabilities in detail, depending on configuration before compiling:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -vv
ipv6calc: version 3.0.0 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
Capabilities: GeoIP2(linked/MaxMindDB) IP2Location(linked) DBIP2(linked/MaxMindDB) ExternalDatabase DB_AS_REG(BuiltIn) DB_CC_REG(BuiltIn) DB_IPV4_REG(BuiltIn) DB_IPV6_REG(BuiltIn) DB_IEEE(BuiltIn)
Internal main     library version: 3.0.0  API: 3.0.0  (built-in)
Internal database library version: 3.0.0  API: 3.0.0  (built-in)
Compiled: Oct 13 2020  19:38:16
MaxMindDB for GeoIP2/DBIP2 support enabled
MaxMindDB dynamic library version (on this system): 1.4.2
GeoIP2 (MaxMindDB) support enabled
GeoIP2 available databases: Country4=1 Country6=1 ASN4=1 ASN6=1 City4=1 City6=1
IP2Location support enabled, compiled with API version: 8.2.0, dynamically linked with version: API=8.2.0 Major=8
IP2Location available databases: Country4=1 Country6=1 ASN4=0 ASN6=0 City4=1 City6=1
DBIP2 (MaxMindDB) support enabled
DBIP2 available databases: Country4=1 Country6=1 ASN4=1 ASN6=1 City4=1 City6=1
External available databases: Country4=1 Country6=1 IPV4_REG=1 IPV6_REG=1
BuiltIn databases available: ASN_REG=1 IPV4_REG=1 IPV6_REG=1 IEEE=1 CC_REG=1
DB features: 0xff07ffff
GeoIP(MaxMindDB): features available/implemented: 0x03063ff0/0x03063ff0 (100%)
GeoIP2: info of available databases in directory: /usr/share/GeoIP
GeoIP2: IPv4/v6 CountryCode (FREE)    : [1] GeoLite2-Country.mmdb          (GeoLite2-Country Copyright (c) 2019 MaxMind All Rights Reserved, created: 20191217-195954 UTC)
GeoIP2: IPv4/v6 City (FREE)           : [2] GeoLite2-City.mmdb             (GeoLite2-City Copyright (c) 2019 MaxMind All Rights Reserved, created: 20191217-200126 UTC)
GeoIP2: IPv4/v6 ASN (FREE)            : [3] GeoLite2-ASN.mmdb              (GeoLite2-ASN Copyright (c) 2019 MaxMind All Rights Reserved, created: 20190122-114228 UTC)
GeoIP2: detected best databases FREE    Country4=2    Country6=2    City4=2    City6=2  
GeoIP2: detected best databases COMM    Country4=0    Country6=0    City4=0    City6=0  
GeoIP2: selected best databases normal  Country4=2    Country6=2    City4=2    City6=2  
GeoIP2: selected best databases method: COMM older than 12 months are deselected in case of FREE is available
GeoIP2: selected best databases method: COMM/FREE with more features are only selected in case not older than 1 months of already found COMM/FREE
IP2Location: features available/implemented: 0x0c003fc0/0x0c003fc0 (100%)
IP2Location: info of available databases in directory: /usr/share/IP2Location
IP2Location: Copyright (c) IP2Location All Rights Reserved
IP2Location: IPv4 Country                                    :[ 49] IP-COUNTRY-SAMPLE.BIN               (IP2L-DB1 IPv4 IPv6 SAMPLE 20201005)
IP2Location: IPv4 Co/Re/Ci/LaLo/ZI/TZ/IS/Do/Ne/Ar/We/Mo      :[ 68] IP-COUNTRY-REGION-CITY-LATITUDE-LONGITUDE-ZIPCODE-TIMEZONE-ISP-DOMAIN-NETSPEED-AREACODE-WEATHER-MOBILE-SAMPLE.BIN (IP2L-DB20 IPv4 IPv6 SAMPLE 20190129)
IP2Location: IPv4 Co/Re/Ci/LaLo/ZI/TZ/IS/Do/Ne/Ar/We/Mo/El/Us:[ 72] IP-COUNTRY-REGION-CITY-LATITUDE-LONGITUDE-ZIPCODE-TIMEZONE-ISP-DOMAIN-NETSPEED-AREACODE-WEATHER-MOBILE-ELEVATION-USAGETYPE-SAMPLE.BIN (IP2L-DB24 IPv4 IPv6 SAMPLE 20190129)
IP2Location: IPv6 Country                                    :[ 73] IPV6-COUNTRY.SAMPLE.BIN             (IP2L-DB1 IPv4 IPv6 SAMPLE 20201005)
IP2Location: IPv6 Co/Re/Ci/LaLo/ZI/TZ/IS/Do/Ne/Ar/We/Mo      :[ 92] IPV6-COUNTRY-REGION-CITY-LATITUDE-LONGITUDE-ZIPCODE-TIMEZONE-ISP-DOMAIN-NETSPEED-AREACODE-WEATHER-MOBILE.SAMPLE.BIN (IP2L-DB20 IPv4 IPv6 SAMPLE 20171128)
IP2Location: IPv6 Co/Re/Ci/LaLo/ZI/TZ/IS/Do/Ne/Ar/We/Mo/El/Us:[ 96] IPV6-COUNTRY-REGION-CITY-LATITUDE-LONGITUDE-ZIPCODE-TIMEZONE-ISP-DOMAIN-NETSPEED-AREACODE-WEATHER-MOBILE-ELEVATION-USAGETYPE.SAMPLE.BIN (IP2L-DB24 IPv4 IPv6 SAMPLE 20171128)
IP2Location: IPvx Co/Re/Ci/LattLong/ZIP/TZ                   :[ 35] IPV6-COUNTRY-REGION-CITY-LATITUDE-LONGITUDE-ZIPCODE-TIMEZONE.BIN (IP2L-DB11 IPv4 IPv6 20181226)
IP2Location: detected best databases SAMPLE  Country4=49   Country6=73   City4=72   City6=96 
IP2Location: detected best databases LITE    Country4=0    Country6=0    City4=0    City6=0  
IP2Location: detected best databases COMM    Country4=35   Country6=35   City4=35   City6=35 
IP2Location: selected best databases LI-&#62;SA* Country4=0    Country6=0    City4=0    City6=0  
IP2Location: selected best databases normal  Country4=35   Country6=35   City4=35   City6=35 
IP2Location: selected best databases method: * = autoswitch from LITE to SAMPLE enabled in case not older than 12 months and having more features
IP2Location: selected best databases method: COMM older than 12 months are deselected in case of LITE is available
IP2Location: selected best databases method: COMM/LITE/SAMPLE with more features are only selected in case not older than 1 months of already found COMM/LITE/SAMPLE
IP2Location: selected best databases method: softlinks: skipped-by-default
db-ip.com(MaxMindDB): features available/implemented: 0x30063ff0/0x30063ff0 (100%)
DBIP2: info of available databases in directory: /usr/share/DBIP
DBIP2: IPv4/v6 CountryCode (FREE)    : [1] dbip-country-lite.mmdb         (DBIP-Country-Lite Copyright (c) 2019 db-ip.com All Rights Reserved, created: 20190831-232938 UTC)
DBIP2: IPv4/v6 City (FREE)           : [2] dbip-city-lite.mmdb            (DBIP-City-Lite Copyright (c) 2019 db-ip.com All Rights Reserved, created: 20190831-233248 UTC)
DBIP2: IPv4/v6 Location+ISP (COMM)   : [6] dbip-location-isp.mmdb         (DBIP-Location-ISP (compat=Enterprise) Copyright (c) 2019 db-ip.com All Rights Reserved, created: 20190101-015418 UTC)
DBIP2: detected best databases FREE    Country4=2    Country6=2    City4=2    City6=2  
DBIP2: detected best databases COMM    Country4=6    Country6=6    City4=6    City6=6  
DBIP2: selected best databases normal  Country4=6    Country6=6    City4=6    City6=6  
DBIP2: selected best databases method: COMM older than 12 months are deselected in case of FREE is available
DBIP2: selected best databases method: COMM/FREE with more features are only selected in case not older than 1 months of already found COMM/FREE
External: features available/implemented: 0xc00180cc/0xc00180cc (100%)
External: info of available databases in directory: /usr/share/ipv6calc/db
External: IPv4 Registry       : ipv6calc-external-ipv4-registry.db       (EXTDB-1/AFRINIC/20200904 APNIC/20200903 ARIN/20200903 IANA/20191227 LACNIC/20200903 LISP/20200318 RIPENCC/20200903, created: 20200904-061346 UTC)
External: IPv6 Registry       : ipv6calc-external-ipv6-registry.db       (EXTDB-2/AFRINIC/20200904 APNIC/20200903 ARIN/20200903 IANA/20191106 LACNIC/20200903 LISP/20200318 RIPENCC/20200903, created: 20200904-063305 UTC)
External: IPv4 CountryCode    : ipv6calc-external-ipv4-countrycode.db    (EXTDB-3/AFRINIC/20200904 APNIC/20200903 ARIN/20200903 IANA/20191227 LACNIC/20200903 LISP/20200318 RIPENCC/20200903, created: 20200904-061347 UTC)
External: IPv6 CountryCode    : ipv6calc-external-ipv6-countrycode.db    (EXTDB-4/AFRINIC/20200904 APNIC/20200903 ARIN/20200903 IANA/20191106 LACNIC/20200903 LISP/20200318 RIPENCC/20200903, created: 20200904-063305 UTC)
BuiltIn: features available/implemented: 0x0001c00f/0x0001c00f (100%)
BuiltIn: info of available databases
BuiltIn: ASN  : IANA/20200518
BuiltIn: CC   : AFRINIC/20201012 APNIC/20201010 ARIN/20201011 LACNIC/20201009 RIPENCC/20201011
BuiltIn: IPv4 : AFRINIC/20201012 APNIC/20201010 ARIN/20201011 IANA/20191227 LACNIC/20201009 LISP/20200318 RIPENCC/20201011 (created: 20201012-064251 UTC)
BuiltIn: IPv6 : AFRINIC/20201012 APNIC/20201010 ARIN/20201011 IANA/20191106 LACNIC/20201009 LISP/20200318 RIPENCC/20201011 (created: 20201012-070210 UTC)
BuiltIn: IEEE : IAB/20201012 OUI/20201012 OUI28/20201012 OUI36/20201012
Database selection or priorization ('-&#62;': subsequential calls)
Database priorization default: GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)-&#62;GeoIP-&#62;db-ip.com-&#62;External-&#62;BuiltIn
DB_AS_REG (AS-Number to Registry database): BuiltIn
DB_CC_REG (CountryCode to Registry database): BuiltIn
DB_IPV4_REG (IPv4 to Registry database): BuiltIn
DB_IPV6_REG (IPv6 to Registry database): BuiltIn
DB_IPV4_AS (IPv4 to AS database): GeoIP(MaxMindDB)-&#62;db-ip.com(MaxMindDB)
DB_IPV6_AS (IPv6 to AS database): GeoIP(MaxMindDB)-&#62;db-ip.com(MaxMindDB)
DB_IPV4_CC (IPv4 to CountryCode database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)-&#62;External
DB_IPV6_CC (IPv6 to CountryCode database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)-&#62;External
DB_IPV4_COUNTRY (IPv4 to Country database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IPV6_COUNTRY (IPv6 to Country database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IPV4_CITY (IPv4 to City database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IPV6_CITY (IPv6 to City database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IPV4_REGION (IPv4 to Region database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IPV6_REGION (IPv6 to Region database): GeoIP(MaxMindDB)-&#62;IP2Location-&#62;db-ip.com(MaxMindDB)
DB_IEEE (IEEE/OUI/OUI28/OUI36 Vendor database): BuiltIn
DB_IPV4_INFO (IPv4 additional information): External-&#62;BuiltIn
DB_IPV6_INFO (IPv6 additional information): External-&#62;BuiltIn
DB_IPV4_GEONAMEID (IPv4 GeonameID): GeoIP(MaxMindDB)-&#62;db-ip.com(MaxMindDB)
DB_IPV6_GEONAMEID (IPv6 GeonameID): GeoIP(MaxMindDB)-&#62;db-ip.com(MaxMindDB)</PRE
></FONT
></TD
></TR
></TABLE
><P
>Option &#8220;-v -h&#8221; (since 0.97.4) shows explanation of feature tokens</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -v -h
ipv6calc: version 3.0.0 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
Explanation of available(x)/possible(o) feature tokens
GeoIP                    x GeoIPv4 database (provided by GeoIP(MaxMindDB))
GeoIPv6                  x GeoIPv6 database (provided by GeoIP(MaxMindDB))
IP2Location              x IP2Location IPv4 database (provided by IP2Location)
IP2Location6             x IP2Location IPv6 database (provided by IP2Location)
DBIPv4                   x db-ip.com IPv4 database (provided by db-ip.com(MaxMindDB))
DBIPv6                   x db-ip.com IPv6 database (provided by db-ip.com(MaxMindDB))
DB_AS_REG                x AS-Number to Registry database (provided by BuiltIn)
DB_IPV4_REG              x IPv4 to Registry database (provided by External,BuiltIn)
DB_IPV6_REG              x IPv6 to Registry database (provided by External,BuiltIn)
DB_IPV4_AS               x IPv4 to AS database (provided by GeoIP(MaxMindDB),db-ip.com(MaxMindDB))
DB_IPV6_AS               x IPv6 to AS database (provided by GeoIP(MaxMindDB),db-ip.com(MaxMindDB))
DB_IPV4_CC               x IPv4 to CountryCode database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB),External)
DB_IPV6_CC               x IPv6 to CountryCode database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB),External)
DB_IPV4_COUNTRY          x IPv4 to Country database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_IPV6_COUNTRY          x IPv6 to Country database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_IPV4_CITY             x IPv4 to City database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_IPV6_CITY             x IPv6 to City database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_IPV4_REGION           x IPv4 to Region database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_IPV6_REGION           x IPv6 to Region database (provided by GeoIP(MaxMindDB),IP2Location,db-ip.com(MaxMindDB))
DB_CC_REG                x CountryCode to Registry database (provided by BuiltIn)
DB_IEEE                  x IEEE/OUI/OUI28/OUI36 Vendor database (provided by BuiltIn)
DB_IPV4_INFO             x IPv4 additional information (provided by External,BuiltIn)
DB_IPV6_INFO             x IPv6 additional information (provided by External,BuiltIn)
DB_IPV4_GEONAMEID        x IPv4 GeonameID (provided by GeoIP(MaxMindDB),db-ip.com(MaxMindDB))
DB_IPV6_GEONAMEID        x IPv6 GeonameID (provided by GeoIP(MaxMindDB),db-ip.com(MaxMindDB))
ANON_ZEROISE             x Anonymization method 'zeroize'
ANON_ANONYMIZE           x Anonymization method 'anonymize'
ANON_KEEP-TYPE-ASN-CC    x Anonymization method 'keep-type-asn-cc'
ANON_KEEP-TYPE-GEONAMEID x Anonymization method 'keep-type-geonameid'</PRE
></FONT
></TD
></TR
></TABLE
><P
>Note: since version 0.95.0 the internal layer for database usage was abstracted and each database &#8220;plugin&#8221; is initialized reporting then its supporting features in binary representation. This makes implementation of other external databases easier in the future. There are at least plans to create an overlay to built-in databases by publishing and use some &#8220;precompiled&#8221; newer databases replacing the need of recompilation for updated built-in databases.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN275"
>9.3. Examples</A
></H3
><DIV
CLASS="SECT3"
><H4
CLASS="SECT3"
><A
NAME="AEN277"
>9.3.1. Conversion</A
></H4
><P
>A simple example is the conversion of an IPv6 address to a DNS PTR query string:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --out revnibbles.arpa 2001:db8::1
No input type specified, try autodetection...found type: ipv6addr
1.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.</PRE
></FONT
></TD
></TR
></TABLE
><P
>Like you see, input format was autodetected. And the given example can be extended because ipv6calc also understands netmask / prefix length values:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q --out revnibbles.arpa 2001:db8::1/64
0.0.0.0.0.0.0.0.8.b.d.0.1.0.0.2.ip6.arpa.</PRE
></FONT
></TD
></TR
></TABLE
><P
>Also you've also learnt now that switch '-q' (quiet) suppresses informational messages. You can use this now to start a DNS PTR query using:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ dig PTR `./ipv6calc -q --out revnibbles.arpa 2001:db8::1/64`</PRE
></FONT
></TD
></TR
></TABLE
><P
>But ipv6calc can do many more for you! Next example shows you the extraction of the IPv4 address contained in a 6to4 IPv6 address:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q --action conv6to4 --in ipv6 2002:c0a8:fb61::1 --out ipv4
192.168.251.97</PRE
></FONT
></TD
></TR
></TABLE
><P
>This also works vice-versa:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q --action conv6to4 --in ipv4 192.168.251.97 --out ipv6
2002:c0a8:fb61::</PRE
></FONT
></TD
></TR
></TABLE
><P
>There are many more features already implemented, if you miss one, send a note.</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN290"
>9.3.2. Information</A
></H4
><P
>Depending on available databases output can vary.</P
><DIV
CLASS="SECT4"
><HR><H5
CLASS="SECT4"
><A
NAME="AEN293"
>9.3.2.1. Information about a simple IPv6 address:</A
></H5
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i 3ffe:ffff::210:a4ff:fe01:2345
Address type: unicast, 6bone, global-unicast, productive
Address type has SLA: 0000
Registry for address: reserved
Interface identifier: 0210:a4ff:fe01:2345
EUI-48/MAC address: 00:10:a4:01:23:45
MAC is a global unique one
MAC is an unicast one
OUI is: XIRCOM</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT4"
><HR><H5
CLASS="SECT4"
><A
NAME="AEN296"
>9.3.2.2. Information about a Teredo IPv6 address:</A
></H5
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i 3ffe:831f:ce49:7601:8000:efff:af4a:86BF
Address type: unicast, 6bone, global-unicast, teredo
Country Code: IT
Registry for address: 6BONE
IPv4 address: 80.181.121.64 (TEREDO-CLIENT)
IPv4 address type: unicast, global
Autonomous System Information for [80.181.121.64]: AS3269 ASN-IBSNAZ
Country Code for [80.181.121.64]: IT 
...</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT4"
><HR><H5
CLASS="SECT4"
><A
NAME="AEN299"
>9.3.2.3. Information about a LISP address</A
></H5
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i 153.16.26.80
IPv4 address: 153.16.26.80
IPv4 address type: unicast, global, lisp
...
IPv4 registry: ARIN(LISP#cbc-xtr) 
...</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT4"
><HR><H5
CLASS="SECT4"
><A
NAME="AEN302"
>9.3.2.4. Machine readable output</A
></H5
><P
>There exists also a machine readable output (e.g. used by 'ipv6calcweb.cgi') - in addition, database related information can be displayed, if databases are located on the system and supported.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i -m 2a01:238:423d:8800:85b3:9e6b:3019:8909  
IPV6=2a01:0238:423d:8800:85b3:9e6b:3019:8909
IPV6_ANON=a909:16fa:9091:a448:a909:4941:0000:0007
IPV6_TYPE=ipv6,unicast,global-unicast,productive,iid-random,iid,iid-local
IPV6_COUNTRYCODE=DE
IPV6_COUNTRYCODE_SOURCE=GeoIP(MaxMindDB)
IPV6_AS_NUM=6724
IPV6_AS_SOURCE=GeoIP(MaxMindDB)
IPV6_GEONAME_ID=2921044
IPV6_GEONAME_ID_SOURCE=GeoIP(MaxMindDB)
IPV6_GEONAME_ID_TYPE=Country
IPV6_REGISTRY=RIPENCC
SLA=8800
IID=85b3:9e6b:3019:8909
EUI64_SCOPE=local-random
IP2LOCATION_COUNTRY_SHORT=DE
IP2LOCATION_COUNTRY_LONG=Germany
IP2LOCATION_REGION=Berlin
IP2LOCATION_CITY=Berlin
IP2LOCATION_ZIPCODE=10178
IP2LOCATION_LATITUDE=52.524368
IP2LOCATION_LONGITUDE=13.410530
IP2LOCATION_TIMEZONE=+01:00
GEOIP2_CONTINENT_SHORT=EU
GEOIP2_CONTINENT_LONG=Europe
GEOIP2_COUNTRY_SHORT=DE
GEOIP2_COUNTRY_LONG=Germany
GEOIP2_LATITUDE=51.000000
GEOIP2_LONGITUDE=9.000000
GEOIP2_RADIUS=100
GEOIP2_TIMEZONE_NAME=Europe/Berlin
GEOIP2_AS_NUM=6724
GEOIP2_AS_ORGNAME=Strato AG
GEOIP2_GEONAME_ID_COUNTRY=2921044
GEOIP2_GEONAME_ID_CONTINENT=6255148
DBIP2_CONTINENT_SHORT=EU
DBIP2_CONTINENT_LONG=Europe
DBIP2_COUNTRY_SHORT=DE
DBIP2_COUNTRY_LONG=Germany
DBIP2_REGION=Berlin
DBIP2_CITY=Berlin (Charlottenburg-Wilmersdorf)
DBIP2_ZIPCODE=10587
DBIP2_LATITUDE=52.523900
DBIP2_LONGITUDE=13.321400
DBIP2_WEATHERSTATIONCODE=GMXX8538
DBIP2_TIMEZONE_NAME=Europe/Berlin
DBIP2_AS_NUM=6724
DBIP2_AS_ORGNAME=Strato AG
DBIP2_ISP=Strato Rechenzentrum
DBIP2_NETSPEED=Corporate
DBIP2_GEONAME_ID=3336294
DBIP2_GEONAME_ID_REGION=2950157
DBIP2_GEONAME_ID_COUNTRY=2921044
DBIP2_GEONAME_ID_CONTINENT=6255148
EXTERNAL_COUNTRY_SHORT=DE
IP2LOCATION_DATABASE_INFO=IP2L-DB11 IPv4 IPv6 20181226 Copyright (c) 2018 IP2Location All Rights Reserved
GEOIP2_DATABASE_INFO=GeoLite2-City Copyright (c) 2019 MaxMind All Rights Reserved, created: 20191217-200126 UTC / GeoLite2-ASN Copyright (c) 2019 MaxMind All Rights Reserved, created: 20190122-114228 UTC
DBIP2_DATABASE_INFO=DBIP-Location-ISP (compat=Enterprise) Copyright (c) 2019 db-ip.com All Rights Reserved, created: 20190101-015418 UTC
EXTERNAL_DATABASE_INFO=EXTDB-4/AFRINIC/20200904 APNIC/20200903 ARIN/20200903 IANA/20191106 LACNIC/20200903 LISP/20200318 RIPENCC/20200903, created: 20200904-063305 UTC
BUILTIN_DATABASE_INFO=IPv6-REG:AFRINIC/20201012 APNIC/20201010 ARIN/20201011 IANA/20191106 LACNIC/20201009 LISP/20200318 RIPENCC/20201011
IPV6CALC_NAME=ipv6calc
IPV6CALC_VERSION=3.0.0
IPV6CALC_COPYRIGHT="(P) &#38; (C) 2001-2020 by Peter Bieringer &#60;pb (at) bieringer.de&#62;"
IPV6CALC_OUTPUT_VERSION=21
IPV6CALC_SETTINGS_ANON="set=keep-type-asn-cc,mask-ipv6=56,mask-ipv4=24,mask-eui64=40,mask-mac=24,method=keep-type-asn-cc"
IPV6CALC_FEATURES="GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID"
IPV6CALC_CAPABILITIES="GeoIP2(linked/MaxMindDB) IP2Location(linked) DBIP2(linked/MaxMindDB) ExternalDatabase DB_AS_REG(BuiltIn) DB_CC_REG(BuiltIn) DB_IPV4_REG(BuiltIn) DB_IPV6_REG(BuiltIn) DB_IEEE(BuiltIn)"</PRE
></FONT
></TD
></TR
></TABLE
><H5
CLASS="BRIDGEHEAD"
><A
NAME="AEN306"
></A
>Special machine readable output options (&#62;= 0.99.0)</H5
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN307"
>9.3.2.4.1. Output filter by selecting a token (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrst &#60;TOKEN&#62; (Machine Readable Select Token) can be used to display only a selected token</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrst IPV6_TYPE 2a01:238:423d:8800:85b3:9e6b:3019:8909 
IPV6_TYPE=unicast,global-unicast,productive,iid-random,iid,iid-local</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN311"
>9.3.2.4.2. Output filter by matching token (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrmt &#60;TOKEN&#62; (Machine Readable Match Token) can be used to display only matching tokens</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrmt IP2LOCATION 2a01:238:423d:8800:85b3:9e6b:3019:8909 
IP2LOCATION_COUNTRY_SHORT=DE
IP2LOCATION_COUNTRY_LONG=Germany
IP2LOCATION_REGION=Berlin
IP2LOCATION_CITY=Berlin
IP2LOCATION_ZIPCODE=10178
IP2LOCATION_LATITUDE=52.524368
IP2LOCATION_LONGITUDE=13.410530
IP2LOCATION_TIMEZONE_NAME=+01:00
IP2LOCATION_DATABASE_INFO=IP2L-DB11 IPv6 20181226 Copyright (c) 2018 IP2Location All Rights Reserved</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN315"
>9.3.2.4.3. Output filter by selecting a value of a token token (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrtvo &#60;TOKEN&#62; (Machine Readable Token Value Only) can be used to display only thevalue of a selected token</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrtvo IPV6_TYPE 2a01:238:423d:8800:85b3:9e6b:3019:8909 
unicast,global-unicast,productive,iid-random,iid,iid-local</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN319"
>9.3.2.4.4. Output adjustment by unconditional quoting of values (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrqva (Machine Readable Quote Values Always) can be used to quote values always of a selected token</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrqva --mrtvo IPV6_TYPE 2a01:238:423d:8800:85b3:9e6b:3019:8909 
"unicast,global-unicast,productive,iid-random,iid,iid-local"</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN323"
>9.3.2.4.5. Output adjustment by unconditional disabling quoted values (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrqvn (Machine Readable Quote Values Never) can be used to never quote values of a selected token</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrqvn --mrst IPV6_AS_TEXT 2a01:238:423d:8800:85b3:9e6b:3019:8909 
IPV6_AS_TEXT=AS6724 STRATO AG</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT5"
><HR><H6
CLASS="SECT5"
><A
NAME="AEN327"
>9.3.2.4.6. Output adjustment by unconditional print token in case of empty value (&#62;= 0.99.0)</A
></H6
><P
>Using option --mrstpq (Machine Readable Select Token Print Always) can be used to print always token/value regardless it's contained</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -i --mrqva --mrstpa IPV4 2a01:238:423d:8800:85b3:9e6b:3019:8909 
IPV4=""
$ ipv6calc -q -i --mrqva --mrst IPV4 2a01:238:423d:8800:85b3:9e6b:3019:8909 
(no output)</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN331"
>9.3.3. Filter mode</A
></H4
><P
>&#8220;ipv6calc&#8221; can run in filter mode to be able to extract from a huge list of IPv4/IPv6 addresses ones which are interesting or ones which are not interesting (see printout of online help below).</P
><P
>Filter tokens are the ones which are listed on &#8220;TYPE&#8221; lines shown in &#8220;-m -i&#8221; information mode.</P
><P
>Example for searching for Teredo addresses:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ cat ip.bieringer.de-log.201310 | awk '{ print $1 }' | sort | uniq | ipv6calc -A filter -E teredo
2001:0:9d38:90d7:34f7:1a26:8599:e079</PRE
></FONT
></TD
></TR
></TABLE
><P
>For more information see below</P
><P
>Note: since version 0.95.0 '-A filter' is optional if option '-E &#60;filter expression&#62;' is given (autoselected action).</P
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN339"
>9.3.4. Test mode</A
></H4
><P
>Since 0.99.2 a test mode ('-A test', autoselected in case 'test_*' options are given) is implemented for address prefix or range</P
><P
>For more information see below</P
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN343"
>9.4. Option style</A
></H3
><P
>Since version 0.40 new-style option handling was introduced, using</P
><P
></P
><UL
><LI
><P
>--in &#60;inputtype&#62;</P
></LI
><LI
><P
>--out &#60;outputtype&#62;</P
></LI
><LI
><P
>--action &#60;actiontype&#62;</P
></LI
></UL
><P
>and many more conversions were added. A built-in check matrix should prevent misconversions.</P
><P
>Up to version 0.39, only old-style options (aka &#8220;shortcut&#8221; options). They are one-in-all options, specifying input/action/output in one token. Internally this options will be converted into new-style options.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN355"
>9.5. Online help</A
></H3
><P
>Online help always shows the currently implemented features.</P
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN358"
>9.5.1. Main online help:</A
></H4
><P
>External database options only appear if compiled with related support.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -h
ipv6calc: version 3.0.0 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
(P) &#38; (C) 2001-2020 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
This program formats and calculates IPv6/IPv4/MAC addresses and can do many more tricky things
  [-d|--debug &#60;debug value&#62;] : debug value (bitwise like)
                                can also be set by IPV6CALC_DEBUG environment value
  [-v|--version [-v [-v]]]   : version information (2 optional detail levels)
  [-v|--version -h]          : explanation of feature tokens
  [-V|--verbose]             : be more verbose
  [-h|--help|-?]             : this online help

  [--disable-ip2location           ] : IP2Location support disabled
  [--db-ip2location-disable        ] : IP2Location support disabled
  [--db-ip2location-dir &#60;directory&#62;] : IP2Location database directory (default: /usr/share/IP2Location)
  [--db-ip2location-only-type &#60;TYPE&#62;]: IP2Location database only selected type (1-120)
  [--db-ip2location-allow-softlinks] : IP2Location database softlinks allowed
     by default they are ignored because it is hard to autodetect COMM/LITE/SAMPLE
  [--db-ip2location-lite-to-sample-autoswitch-max-delta-months &#60;MONTHS&#62;]:
     autoswitch from LITE to SAMPLE databases if possible and delta is not more than 12 months (0=disabled)
  [--db-ip2location-comm-to-lite-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to LITE databases if possible and delta more than 12 months (0=disabled)

  [--disable-geoip2                ] : GeoIP(MaxMindDB) support disabled
  [--db-geoip2-disable             ] : GeoIP(MaxMindDB) support disabled
  [--db-geoip2-dir      &#60;directory&#62;] : GeoIP(MaxMindDB) database directory (default: /usr/share/GeoIP)

  [--disable-dbip2                 ] : db-ip.com(MaxMindDB) support disabled
  [--db-dbip2-disable              ] : db-ip.com(MaxMindDB) support disabled
  [--db-dbip2-dir       &#60;directory&#62;] : db-ip.com(MaxMindDB) database directory (default: /usr/share/DBIP)
  [--db-dbip2-only-type &#60;TYPE&#62;]      : db-ip.com(MaxMindDB) database only selected type (1-6)
  [--db-dbip2-comm-to-free-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to FREE databases if possible and delta more than 12 months (0=disabled)
  [--disable-external              ] : External support disabled
 
  [--db-external-disable           ] : External support disabled
  [--db-external-dir    &#60;directory&#62;] : External database directory (default: /usr/share/ipv6calc/db)
  [--disable-builtin               ] : BuiltIn support disabled
  [--db-builtin-disable            ] : BuiltIn support disabled
  
  [--db-priorization &#60;entry1&#62;[:...]] : Database priorization order list (overwrites default)
                                         colon separated: GeoIP GeoIP2 IP2Location DBIP DBIP2 External BuiltIn

Hint: all long options can be predefined from environment by using
  prefix: IPV6CALC_ and  conversion: '-' -&#62; '_' and lowercase -&#62; uppercase
  example for options with values   : --db-dbip2-dir=&#60;DIR&#62;  -&#62;  environment: IPV6CALC_DB_DBIP2_DIR=&#60;DIR&#62;
  example for options without values: --db-dbip2-disable    -&#62;  environment: IPV6CALC_DB_DBIP2_DISABLE=1
                                                                              on|off|0|1 is supported
  [-q|--quiet]               : be more quiet (auto-enabled in pipe mode)
  [-f|--flush]               : flush each line in pipe mode
 Usage with new style options:
  [--in|-I &#60;input type&#62;]   : specify input  type
                             (default: autodetect)
  [--out|-O &#60;output type&#62;] : specify output type
                             (sometimes: autodetect)
  [--action|-A &#60;action&#62;]   : specify action
                             (default: format conversion, sometimes: autodetect)
  [&#60;format option&#62; ...] : specify format options
  &#60;input data&#62; [...]    : input data
  Available input  types:  [-m] -I|--in     -?|-h|--help
  Available output types:  [-m] -O|--out    -?|-h|--help
  Available action types:  [-m] -A|--action -?|-h|--help
  Special filter action :  -E -?|-h|--help

 Other usage:
  --showinfo|-i [--machine_readable|-m] : show information about input data
  --showinfo|-i --mrqva                 : Machine Readable Quote Values Always
  --showinfo|-i --mrqvn                 : Machine Readable Quote Values Never
  --showinfo|-i --mrst &#60;TOKEN&#62;          : Machine Readable Select Token
  --showinfo|-i --mrstpa &#60;TOKEN&#62;        : Machine Readable Select Token Print Always
  --showinfo|-i --mrmt &#60;TOKENPREFIX&#62;    : Machine Readable Match Token Prefix
  --showinfo|-i --mrmts &#60;TOKENSUFFIX&#62;   : Machine Readable Match Token Suffix
  --showinfo|-i --mrtvo &#60;TOKEN&#62;         : Machine Readable Token Value Only
  --showinfo|-i --show-tokens           : show available tokens (aka types) on '-m'

 Usage with shortcut options: &#60;shortcut option&#62; [&#60;format option&#62; ...] &#60;input data&#62;
  for more information and available format options use: &#60;shortcut option&#62; -?|-h|--help
  -r|--addr2ip6_int (-O revnibbles.int)
  -r|--addr_to_ip6int (-O revnibbles.int)
  -a|--addr2ip6_arpa (-O revnibbles.arpa)
  -a|--addr_to_ip6arpa (-O revnibbles.arpa)
  -b|--addr_to_bitstring (-O bitstring)
     --addr2compaddr (--printcompressed)
     --addr_to_compressed (--printcompressed)
     --addr2uncompaddr (--printuncompressed)
     --addr_to_uncompressed (--printuncompressed)
     --addr_to_base85 (-I ipv6addr -O base85)
     --base85_to_addr (-I base85 -O ipv6addr)
     --mac_to_eui64 (-I mac -O eui64)
     --addr2fulluncompaddr (--printfulluncompressed)
     --addr_to_fulluncompressed (--printfulluncompressed)
     --addr2if_inet6 (-I ipv6addr -O ifinet6)
     --addr_to_ifinet6 (-I ipv6addr -O ifinet6)
     --if_inet62addr (-I ifinet6 -O ipv6addr --printcompressed)
     --ifinet6_to_compressed (-I ifinet6 -O ipv6addr --printcompressed)
     --eui64_to_privacy (-I iid_token -O iid_token -A genprivacyiid)
     --ipv4_to_6to4addr (-I ipv4 -O ipv6addr -A conv6to4)
     --addr2cc (-A addr2cc)</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN362"
>9.5.2. Database options</A
></H4
><P
></P
><UL
><LI
><P
>each internal/external database can be disabled by option</P
></LI
><LI
><P
>directory of database files can be given via related option</P
></LI
><LI
><P
>databases requiring external library the library file can be given in case of dynamic load and linking</P
></LI
><LI
><P
>for geolocation databases specific file can be selected (see --db-&#60;PROVIDER&#62;-only-type &#60;TYPE&#62;)</P
></LI
></UL
><DIV
CLASS="SECT4"
><HR><H5
CLASS="SECT4"
><A
NAME="AEN373"
>9.5.2.1. IP2Location</A
></H5
><P
>IP2location database directory can contain a bunch of files, the best ones are selected automatically (since 0.99.0). &#8220;Best&#8221; can be controlled via two options:</P
><P
></P
><UL
><LI
><P
>--db-ip2location-lite-to-sample-autoswitch-max-delta-months &#60;MONTHS&#62;: switches from LITE to SAMPLE databases in case of</P
><P
></P
><UL
><LI
><P
>existing SAMPLE database</P
></LI
><LI
><P
>SAMPLE database not older than default/given MONTHS than the LITE database</P
></LI
><LI
><P
>IP address is in range of SAMPLE database (IPv4: 0.0.0.0-99.255.255.255, IPv6: 2a04::/16)</P
></LI
><LI
><P
>autoswitch can be disabled by using MONTHS=0</P
></LI
><LI
><P
>reason for implementation: show maximum possible IP2Location features</P
></LI
></UL
></LI
><LI
><P
>--db-ip2location-comm-to-lite-switch-min-delta-months &#60;MONTHS&#62;: switches from COMMercial to LITE databases in case of</P
><P
></P
><UL
><LI
><P
>existing LITE database</P
></LI
><LI
><P
>COMMercial database is default/given MONTHS older than the LITE database</P
></LI
><LI
><P
>switch can be disabled by using MONTHS=0</P
></LI
><LI
><P
>reason for implementation: avoid using old COMMercial databases</P
></LI
></UL
></LI
><LI
><P
>--db-ip2location-only-type &#60;TYPE&#62;: only selects databases of given type</P
><P
></P
><UL
><LI
><P
>reason for implementation: be able to select a specific database type</P
></LI
></UL
></LI
><LI
><P
>--db-ip2location-allow-softlinks: allow softlinked IP2Location database files</P
><P
></P
><UL
><LI
><P
>by default, softlinked database files are skipped, because it's hard to detect whether one is COMMercial, LITE or SAMPLE</P
></LI
></UL
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
></PRE
></FONT
></TD
></TR
></TABLE
><P
>use &#8220;ipv6calc -vv&#8221; or &#8220;ipv6calc -vvv&#8221; for verification, which databases are selected finally.</P
></DIV
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN413"
>9.5.3. Input-type options</A
></H4
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --in -?
ipv6calc: version 2.1.1 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
(P) &#38; (C) 2001-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
 Available input types:
  auto            : automatic detection
  revnibbles.int  : dot separated nibbles reverse, ending with ip6.int.
  revnibbles.arpa : dot separated nibbles reverse, ending with ip6.arpa.
  bitstring       : bitstring labes, ending with ip6.arpa.
  ipv6addr        : IPv6 address
  ipv6literal     : IPv6 address in literal
  ipv4addr        : IPv4 address
  ipv4hex         : IPv4 in hexdecimal format
  ipv4revhex      : IPv4 in byte-reversed hexdecimal format
  mac             : MAC address (48 bits)
  eui64           : EUI-64 identifier (64 bits)
  base85          : Base-85 string
  ifinet6         : Like line in /proc/net/if_inet6
  iid+token       : Interface identifier and token
  ipv6logconv     : ipv6logconv (currently not supported)
  prefix+mac      : IPv6 prefix and a MAC address
  asn             : Autonomous System Number</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN416"
>9.5.4. Output-type options:</A
></H4
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --out -?
ipv6calc: version 2.1.1 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
(P) &#38; (C) 2001-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
 Available output types:
  revnibbles.int  : dot separated nibbles reverse, ending with ip6.int.
  revnibbles.arpa : dot separated nibbles reverse, ending with ip6.arpa.
  bitstring       : bitstring labes, ending with ip6.arpa.
  ipv6addr        : IPv6 address
  ipv4addr        : IPv4 address
  mac             : MAC address (48 bits)
  eui64           : EUI-64 identifier (64 bits)
  base85          : Base-85 string
  ifinet6         : Like line in /proc/net/if_inet6
  iid             : Interface identifier
  iid+token       : Interface identifier and token
  addrtype        : Address type
  ouitype         : OUI (IEEE) type
  ipv6addrtype    : IPv6 address type
  any             : any type (currently not supported)
  revipv4         : reverse IPv4, ending with in-addr.arpa
  ipv4hex         : IPv4 in hexdecimal format
  octal           : IP address in escaped octal format
  hex             : IP address in hexadecimal format
  ipv6literal     : IPv6 address in literal
 For examples and available format options use:
    -O|--out &#60;type&#62; --examples</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN419"
>9.5.5. Action-type options:</A
></H4
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --action -?
ipv6calc: version 2.1.1 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
(P) &#38; (C) 2001-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
 Available action types:
  auto             : Automatic selection of action (default)
  geneui64         : Converts a MAC address to an EUI-64 address
  conv6to4         : Converts IPv4 address &#60;-&#62; 6to4 IPv6 address (prefix)
  convnat64        : Converts IPv4 address &#60;-&#62; NAT64 IPv6 address
  ipv6tomac        : Extracts MAC of an IPv6 address (if detected)
  ipv6toeui64      : Extracts EUI64 of an IPv6 address (if detected)
  genprivacyiid    : Generates a privacy interface ID out of a given one (arg1) and a token (arg2)
  prefixmac2ipv6   : Generates an IPv6 address out of a prefix and a MAC address
  anonymize        : Anonymize IPv4/IPv6 address without loosing much information
  6rd_local_prefix : Calculate the 6rd prefix from given IPv6 prefix (&#38; relay prefix) and IPv4
                      Options:
                       --6rd_prefix ... (required)
                       --6rd_relay_prefix ... (optional)
  6rd_extract_ipv4 : Extract from 6rd address the include IPv4 address
                      Options:
                       --6rd_prefixlength ... (required)
  filter           : Filter addresses related to filter options
  test             : Test address against given prefix or address
                      Options:
                       --test_prefix ... (optional)
                       --test_gt ... (optional)
                       --test_ge ... (optional)
                       --test_lt ... (optional)
                       --test_le ... (optional)
  addr2cc          : Converts IPv4/IPv6 address into Country Code</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN422"
>9.5.6. Special action &#8220;filter&#8221;:</A
></H4
><P
>Special action &#8220;filter&#8221; can be used especially in pipe mode to filter IP addresses related to their type and since 0.99.0 also related to database results (CountryCode, ASN or Registry).</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --action filter -h
ipv6calc: version 2.1.1 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
 Filter given addresses from stdin by filter expression, e.g.
  echo '2001:db8::1' | ipv6calc [-A filter] -E iid-local
  echo '2001:db8::1' | ipv6calc [-A filter] -E iid-local,global-unicast
  echo '2001:db8::1' | ipv6calc [-A filter] -E ^iid-random
 (note: since version 0.95.0 '-A filter' is autoselected if option '-E &#60;filter expression&#62;' is given)
 negation of filter expression with prefix: ^
  IPv6 address filter tokens:
   ipv6  unknown unicast multicast anycast loopback link-local site-local compat-v4 mapped reserved unique-local-unicast anonymized-iid anonymized-prefix 6to4 6bone global-unicast unspecified solicited-node productive 6to4-microsoft teredo orchid link-local-teredo nat64 iid-random iid iid-local iid-global iid-teredo iid-eui48 iid-eui64 iid-isatap iid-includes-ipv4
  IPv4 address filter tokens:
   ipv4  any unicast multicast anycast broadcast loopback unspecified unknown reserved zeroconf site-local anonymized anonymized-geonameid global 6to4relay lisp lisp-proxyegresstunnelrouter-anycast lisp-mapresolver-anycast
  IPv4/v6 address filter tokens based on databases:
   [^][ipv4.|ipv6.]db.cc=&#60;CC&#62;|unknown (Country Code [2 chars])
   [^][ipv4.|ipv6.]db.asn=&#60;ASN&#62;|unknown (Autonomous System Number)
   [^][ipv4.|ipv6.]db.reg=&#60;REGISTRY&#62;
    Registry tokens: 6BONE IANA APNIC ARIN RIPENCC LACNIC AFRINIC 6TO4 reserved unknown
  IPv4/v6 address filter tokens based on address/mask:
   [^]ipv4.addr=&#60;IPV4-ADDRESS&#62;[&#60;PREFIX-LENGTH&#62;]
   [^]ipv6.addr=&#60;IPV6-ADDRESS&#62;[&#60;PREFIX-LENGTH&#62;]
  IPv4/v6 address filter tokens based on address ranges (&#60;=|&#60;|&#62;|&#62;=):
   [^]ipv4.addr(&#60;=|&#60;|&#62;|&#62;=)&#60;IPV4-ADDRESS&#62;
   [^]ipv6.addr(&#60;=|&#60;|&#62;|&#62;=)&#60;IPV6-ADDRESS&#62;
   as alternative in case &#60;|&#62; creating problems also supported: =(le|lt|gt|ge)=:
   [^]ipv4.addr=(le|lt|gt|ge)=&#60;IPV4-ADDRESS&#62;
   [^]ipv6.addr=(le|lt|gt|ge)=&#60;IPV6-ADDRESS&#62;
  EUI-48/MAC address filter tokens:
    IMPLEMENTATION MISSING
  EUI-64 address filter tokens:
    IMPLEMENTATION MISSING</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example for some filter expressions:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ cat ip.bieringer.de-log.201504 | ipv6calc -E ipv6.db.cc=DE | wc -l
5068

$ cat ip.bieringer.de-log.201504 | ipv6calc -E ipv6.db.cc=US | wc -l
305

$ cat ip.bieringer.de-log.201504 | ipv6calc -E ipv6.db.reg=ARIN | wc -l
306

$ cat ip.bieringer.de-log.201504 | ipv6calc -E iid-random | wc -l
4806

$ cat ip.bieringer.de-log.201504 | ipv6calc -E ipv6.db.cc=US,iid-random | wc -l
16

$ cat ip.bieringer.de-log.201504 | ipv6calc -A filter -E ipv6.db.cc=US,iid-random,ipv4.db.cc=US | wc -l
1842

$ cat ip.bieringer.de-log.201504 | ipv6calc -A filter -E db.asn=8767 | wc -l
2363
$ cat ip.bieringer.de-log.201504 | ipv6calc -A filter -E ipv6.db.asn=8767 | wc -l
1452
$ cat ip.bieringer.de-log.201504 | ipv6calc -A filter -E ipv4.db.asn=8767 | wc -l
911</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example for searching for addresses in a specific range (supported since 0.99.2):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ cat ip.bieringer.de-log.201609 | awk '{ print $1 }' | sort | uniq | ipv6calc -E ipv6.addr=ge=2002::,ipv6.addr=lt=2003::
2002:2518:0:1:2:3:4:5
...
2002:d950:0:1:2:3:4:5</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN430"
>9.5.7. Special action &#8220;test&#8221;:</A
></H4
><P
>Special action &#8220;test&#8221; (since 0.99.2) can be used in command line or pipe mode (single address only) to test IP addresses related to a given prefix or range .</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -A test -?
ipv6calc: version 2.1.1 GeoIP GeoIPv6 IP2Location IP2Location6 DBIPv4 DBIPv6 DB_AS_REG DB_IPV4_REG DB_IPV6_REG DB_IPV4_AS DB_IPV6_AS DB_IPV4_CC DB_IPV6_CC DB_IPV4_COUNTRY DB_IPV6_COUNTRY DB_IPV4_CITY DB_IPV6_CITY DB_IPV4_REGION DB_IPV6_REGION DB_CC_REG DB_IEEE DB_IPV4_INFO DB_IPV6_INFO DB_IPV4_GEONAMEID DB_IPV6_GEONAMEID ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
 Test given address(es) against supported tests:
  --test_prefix &#60;PREFIX&#62;       : inside a prefix
  --test_gt|--test_ge &#60;ADDRESS&#62;: greater(/equal) than an address
  --test_lt|--test_le &#60;ADDRESS&#62;: less(/equal) than an address
 Test given address(es) from stdin, e.g.
  echo '2001:db8::1' | ipv6calc [-A test] --test_prefix 2001:db8::/32
  echo '2001:db8::1' | ipv6calc [-A test] --test_prefix 2001:db9::/32
 Single address test, return code: 0=inside/matching 1=outside/not-matching 2=uncomparable
  ipv6calc [-A test] --test_prefix 2001:db8::/32 2001:db8::1
  ipv6calc [-A test] --test_prefix 2001:db9::/32 2001:db8::1
  ipv6calc [-A test] --test_ge 2001:db8:: --test_le 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff 2001:db8::1
  ipv6calc [-A test] --test_ge 2001:db9:: --test_le 2001:db9:ffff:ffff:ffff:ffff:ffff:ffff 2001:db8::1
  ipv6calc [-A test] --test_ge 2001:db9:: --test_lt 2001:dba:: 2001:db8::1
  ipv6calc [-A test] --test_ge 2001:db8:: --test_lt 2001:db9:: 2001:db8::1</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example for command line mode:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc --test_ge 2001:db8:: --test_le 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff 2001:db8::1; echo $?
no input type specified, try autodetection...found type: ipv6addr
no output type specified, try autodetection...found type: ipv6addr
2001:db8::1   greater/equal than 2001:db8::  less/equal than 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff
0</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example for command line mode (quiet):</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q --test_ge 2001:db8:: --test_le 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff 2001:db8::1; echo $?
2001:db8::1   greater/equal than 2001:db8::  less/equal than 2001:db8:ffff:ffff:ffff:ffff:ffff:ffff
0</PRE
></FONT
></TD
></TR
></TABLE
><P
>Example for pipe mode:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ echo -e "1.2.3.4\n1.2.4.4" | ipv6calc --test_prefix 1.2.3.0/24
1.2.3.4   inside 1.2.3.0/24
1.2.4.4   NOT inside 1.2.3.0/24</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN440"
>10. Webserver log conversion helper program "ipv6logconv"</A
></H2
><P
>This program parses address tokens of a given webserver logfile and converts them to special strings, useful for statistics (e.g. created by using "analog").</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN443"
>10.1. Supported options</A
></H3
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6logconv -h
ipv6logconv: version 2.1.1 CONV_REG CONV_IEEE
(P) &#38; (C) 2002-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
This program converts IPv4/IPv6 addresses in HTTP server log files
  [-d|--debug &#60;debug value&#62;] : debug value (bitwise like)
                                can also be set by IPV6CALC_DEBUG environment value
  [-v|--version [-v [-v]]]   : version information (2 optional detail levels)
  [-v|--version -h]          : explanation of feature tokens
  [-V|--verbose]             : be more verbose
  [-h|--help|-?]             : this online help
 Performance options:
  [-n|--nocache]            : disable caching
  [-c|--cachelimit &#60;value&#62;] : set cache limit
                               default: 20
                               maximum: 200
 Output options:
  [--out &#60;output type&#62;] : specify output type
   addrtype       : Address type
   ouitype        : OUI (IEEE) type
   ipv6addrtype   : IPv6 address type
   any            : any type
 Takes data from stdin, proceed it to stdout</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN446"
>10.2. Examples</A
></H3
><P
>A demonstration about which kind of statistics are possible to produce is shown at <A
HREF="http://www.ipv6.bieringer.de/"
TARGET="_top"
>http://www.ipv6.bieringer.de/</A
> (IPv6 only).</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN450"
>10.3. Usage</A
></H3
><P
>Example:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ echo "2002:50b5:7940:0000:0000:0000:50b5:7940 - -" | ipv6logconv -q --out any
RIPENCC.6to4.global-unicast.ipv6-addr.addrtype.ipv6calc</PRE
></FONT
></TD
></TR
></TABLE
><P
>See more examples inside the package.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN455"
>11. Webserver log anonymization helper program "ipv6loganon"</A
></H2
><P
>On autoconfiguration, the interface part of an IPv6 address is based on the MAC address of the network interface card (NIC). This address is used for outgoing requests, if privacy option (RFC3041 / RFC4941) is not enabled. This results in many privacy related information on web- or mail-server log files. Administrators, which won't (be allowed to) store such information over time, but still do not want to loose information about address type distribution should use 'ipv6loganon' to anonymize their log files.</P
><P
>Since version 0.94.0 internally also IID anonymization is possible without loosing any information for &#8220;ipv6logstats&#8221;.</P
><P
>Since version 0.95.0 internally also prefix anonymization is possible without loosing any information for &#8220;ipv6logstats&#8221;.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN460"
>11.1. Anonymization details</A
></H3
><DIV
CLASS="SECT3"
><H4
CLASS="SECT3"
><A
NAME="AEN462"
>11.1.1. Method &#8220;zeroize&#8221;</A
></H4
><P
>The anonymizer would keep as much information as possible for IPv6 address types.</P
><P
>Client-side IID would be anonymized by</P
><P
></P
><UL
><LI
><P
>EUI-48 based: serial number would be zero'ed, keeping OID</P
></LI
><LI
><P
>EUI-64 based: serial number would be zero'ed, keeping OID</P
></LI
><LI
><P
>ISATAP: client IPv4 address would be anonymized by given IPv4 mask</P
></LI
><LI
><P
>TEREDO: client IPv4 address would be anonymized by given IPv4 mask, client port would be zero'ed</P
></LI
><LI
><P
>6to4(Microsoft): client IPv4 address would be anonymized by given IPv4 mask</P
></LI
><LI
><P
>local: whole IID would be zero'ed</P
></LI
></UL
><P
>Client-side SLA would be anonymized by </P
><P
></P
><UL
><LI
><P
>SLA would be zero'ed</P
></LI
></UL
><P
>Prefix would be anonymized by</P
><P
></P
><UL
><LI
><P
>6to4: client IPv4 address would be anonymized by given IPv4 mask</P
></LI
></UL
><P
>Compat/Mapped IPv4 addresses would be anonymized by</P
><P
></P
><UL
><LI
><P
>IPv4 address would be anonymized by given IPv4 mask</P
></LI
></UL
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN491"
>11.1.2. Method &#8220;anonmize&#8221;</A
></H4
><P
>The anonymizer would keep as much information as possible for the IID of an IPv6 address.</P
><P
>Description from libipv6addr.h:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> * IID anonymization is done by replacing with related information (64-bit)
 * xxxx:xxxx:xxxx:xxxC  (C = 4-bit checksum)
 *
 * a9p9 4941 0000 000C  -&#62; RFC 4941 anonymized privacy extension Interface ID
 *
 * a9p9 4291 4xxx xxxC  -&#62; RFC 4291 anonymized EUI-48 Interface ID, xxx xxx = converted OUI
 * a9p9 4291 5xxx xxxC  -&#62; RFC 4291 anonymized EUI-48 Interface ID, xxx xxx = converted mapped IAB/OUI-36
 * a9p9 4291 6xxx xxxC  -&#62; RFC 4291 anonymized EUI-64 Interface ID, xxx xxx = converted OUI
 * a9p9 4291 7xxx xxxC  -&#62; RFC 4291 anonymized EUI-64 Interface ID, xxx xxx = converted mapped IAB/OUI-36
 * a9p9 4291 8xxx xxxC  -&#62; RFC 4291 embedded anonymized IPv4 address, xxx xxx = first 24 bit of included (anonymized) IPv4 address
 * a9p9 4291 c02d 5d1C  -&#62; RFC 4291 Chapter 2.5.1 anonymized static Interface ID
 *
 * a9p9 5214 4xxx xxxC  -&#62; RFC 5214 anonymized ISATAP Interface ID, xxx xxx = first 24 bit of included (anonymized) IPv4 address (local scope)
 * a9p9 5214 5xxx xxxC  -&#62; RFC 5214 anonymized ISATAP Interface ID, xxx xxx = first 24 bit of included (anonymized) IPv4 address (global scope)
 * a9p9 5214 cxx0 000C  -&#62; RFC 5214 anonymized ISATAP Interface ID, xx      = first  8 bit of included vendor ID (local scope)
 * a9p9 5214 dxx0 000C  -&#62; RFC 5214 anonymized ISATAP Interface ID, xx      = first  8 bit of included vendor ID (global scope)
 * a9p9 5214 exxx xxxC  -&#62; RFC 5214 anonymized ISATAP Interface ID, xxx xxx = first 24 bit of included extension ID (local scope)
 * a9p9 5214 fxxx xxxC  -&#62; RFC 5214 anonymized ISATAP Interface ID, xxx xxx = first 24 bit of included extension ID (global scope)
 *
 * a9p9 4843 0000 000C  -&#62; RFC 4843 anonymized ORCHID hash</PRE
></FONT
></TD
></TR
></TABLE
><P
>Depending on given mask, the part of the prefix will be replaced:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> * SLA/NLA prefix part anonymization is done by replacing with pattern a909a909
 *   p = number of nibbles anonymized</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN498"
>11.1.3. Method &#8220;keep-type-asn-cc&#8221;</A
></H4
><P
>In addition to &#8220;anonymize&#8221; (of IID) this method anonymizes also the prefix of an IPv6 address or a whole IPv4 address by keeping ASN (Autonomous System Number, Country Code and Type).</P
><P
>Description from libipv6addr.h:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> * Prefix anonymization in case of method=kp: p=0x0f
 * a909:ccca:aaaa:aaaC  (C = 4-bit checksum)
 *                      ccc      -&#62; 10-bit Country Code mapping [A-Z]*[A-Z0-9] (936)
 *                                   0x3FD = LISP
 *                                   0x3FE = unknown country
 *                                   0x3FF - 16 + REGISTRY_6BONE &#38;&#38; ASN=0 = 6bone 
 *                                   0x000-0x3A7: c1= c / 36, c2 = c % 36
 *                      aaaaaaaa -&#62; 32-bit ASN</PRE
></FONT
></TD
></TR
></TABLE
><P
>Description from libipv4addr.h:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> *  Global IPv4 addresses are anoymized by storing country code and AS number
 *   and using prefix of experimental range (240-255.x.y.z)
 *
 *  3 3 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1 
 *  1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0
 *  1 1 1 1
 * |p p p p|
 *  Prefix                
 *    0xF
 *
 * Pariy Bit (odd parity)
 *         |P|
 *
 * Mapping of Country Code
 *           |c c c c c c c c c c|
 *            10-bit Country Code mapping [A-Z]*[A-Z0-9] (936)
 *            0x3FF = unknown country
 *            0x000-0x3A7: c1= c / 36, c2 = c % 36
 *
 * Mapping of ASN &#60;= 65535
 *                                0|a a a a a a a a a a a a a a a a|
 *                                    16-bit ASN
 *
 * Mapping of ASN &#62;= 65536, ASN &#38; 0xE000 == 0 (12-bit LSB is ok) 
 *                                1|r r r|0|l l l l l l l l l l l l|
 *                                           13-bit LSB of ASN
 *
 * Mapping of ASN &#62;= 65536, ASN &#38; 0xE000 != 0 (12-bit LSB overflow) =&#62; unspecified
 *                                1|r r r|1|0 0 0 0 0 0 0 0 0 0 0 0|
 *
 * Mapping of ASN registry for ASN &#62;= 65536
 *                                  0 0 0 = "unknown ASN registry"
 *                                  0 1 0 = APNIC
 *                                  0 1 1 = RIPE
 *                                  1 0 0 = LACNIC
 *                                  1 0 1 = AFRINIC
 *                                  1 1 0 = ARIN
 * Mapping of LISP
 *                                1|r r r|1|1|0 0 0 0 0 0 0 0 0 0 0| </PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN505"
>11.1.4. Method &#8220;keep-type-geonameid&#8221;</A
></H4
><P
>In difference to keep-type-asn-cc this method anonymizes the prefix of an IPv6 address or a whole IPv4 address by keeping the GeonameID and Type.</P
><P
>Description from libipv6addr.h:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> * a909:sssg:gggg:gggC  (C = 4-bit checksum)
 *                      sss      -&#62; 10-bit source mapping
 *                                   GeonameID source information
 *                                   0x000 = unknown
 *                                   0x001 = continent  (prio: lowest)
 *                                   0x002 = country
 *                                   0x003 = state/prov
 *                                   0x004 = district
 *                                   0x005 = city       (prio: highest)
 *                                   0x006 = (reserved)
 *                                   0x007 = LISP
 *                                   0x0r. = registry
 *                               -&#62; 2 leftmost bit are |0 1|
 *                      gggggggg -&#62; 32-bit GeonameID
 *                                   0x11800 = LISP</PRE
></FONT
></TD
></TR
></TABLE
><P
>Description from libipv4addr.h:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
> * IPv4 address anonymization type "keep-type-geonameid"
 *  Global IPv4 addresses are anonymized by storing GeonameID
 *   and using prefix of experimental range (240-255.x.y.z)
 *
 *  3 3 2 2 2 2 2 2 2 2 2 2 1 1 1 1 1 1 1 1 1 1
 *  1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0
 *  1 1 1 1
 * |p p p p|
 *  Prefix
 *    0xF
 *
 * Parity Bit (even parity)
 *         |P|
 *
 * Mapping of GeonameID source
 *           |s s s|
 *            3-bit GeonameID source information
 *            0 0 0 (0x0) = unknown
 *            0 0 1 (0x1) = continent  (prio: lowest)
 *            0 1 0 (0x2) = country
 *            0 1 1 (0x3) = state/prov
 *            1 0 0 (0x4) = district
 *            1 0 1 (0x5) = city       (prio: highest)
 *            1 1 0 (0x6) = (reserved)
 *            1 1 1 (0x7) = LISP
 *
 * Mapping of GeonameID (limited to IDs &#60; 2^24, in worst case ID from source with lower prio is used)
 *                 |g g g g g g g g g g g g g g g g g g g g g g g g|
 *
 * Mapping of LISP registry
 *                                  0 0 0 = "unknown ASN registry"
 *                                  0 1 0 = APNIC
 *                                  0 1 1 = RIPE
 *                                  1 0 0 = LACNIC
 *                                  1 0 1 = AFRINIC
 *                                  1 1 0 = ARIN
 *                 |0 0 0 0 0 0 0 1 r r r 1 1 0 0 0 0 0 0 0 0 0 0 0|</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN512"
>11.2. Supported log file formats</A
></H3
><P
>Currently native supported log files:</P
><P
></P
><UL
><LI
><P
>Apache log file format, 1st token is IPv4 or IPv6 address</P
></LI
></UL
><P
>There are plans to support also mail server log files sometimes in the future, but because of different formats, this would be probably done by a Perl program which parses the log file and a (cached) 'ip6calc' call with action 'anonymize'.</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN519"
>11.3. Supported options</A
></H3
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6loganon -h
ipv6loganon: version 2.1.1 ANON_ZEROISE ANON_ANONYMIZE ANON_KEEP-TYPE-ASN-CC ANON_KEEP-TYPE-GEONAMEID
(P) &#38; (C) 2007-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
This program anonymizes IPv4/IPv6 addresses in e.g. HTTP server log files
  [-d|--debug &#60;debug value&#62;] : debug value (bitwise like)
                                can also be set by IPV6CALC_DEBUG environment value
  [-v|--version [-v [-v]]]   : version information (2 optional detail levels)
  [-v|--version -h]          : explanation of feature tokens
  [-V|--verbose]             : be more verbose
  [-h|--help|-?]             : this online help
  [-q|--quiet]               : be more quiet
  [--disable-ip2location           ] : IP2Location support disabled
  [--db-ip2location-disable        ] : IP2Location support disabled
  [--db-ip2location-dir &#60;directory&#62;] : IP2Location database directory (default: /usr/share/IP2Location)
  [--db-ip2location-lib &#60;file&#62;     ] : IP2Location library file (default: libIP2Location.so)
  [--db-ip2location-only-type &#60;TYPE&#62;]: IP2Location database only selected type (1-120)
  [--db-ip2location-allow-softlinks] : IP2Location database softlinks allowed
     by default they are ignored because it is hard to autodetect COMM/LITE/SAMPLE
  [--db-ip2location-lite-to-sample-autoswitch-max-delta-months &#60;MONTHS&#62;]:
     autoswitch from LITE to SAMPLE databases if possible and delta is not more than 12 months (0=disabled)
  [--db-ip2location-comm-to-lite-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to LITE databases if possible and delta more than 12 months (0=disabled)
  [--disable-geoip                 ] : GeoIP support disabled
  [--db-geoip-disable              ] : GeoIP support disabled
  [--db-geoip-dir       &#60;directory&#62;] : GeoIP database directory (default: /usr/share/GeoIP)
  [--db-geoip-lib       &#60;file&#62;     ] : GeoIP library file (default: libGeoIP.so.1)
  [--db-mmdb-lib       &#60;file&#62;      ] : MaxMindDB library file (default: libmaxminddb.so.0)
  [--disable-geoip2                ] : GeoIP (MaxMindDB) support disabled
  [--db-geoip2-disable             ] : GeoIP (MaxMindDB) support disabled
  [--db-geoip2-dir      &#60;directory&#62;] : GeoIP (MaxMindDB) database directory (default: /usr/share/GeoIP)
  [--disable-dbip2                 ] : db-ip.com (MaxMindDB) support disabled
  [--db-dbip2-disable              ] : db-ip.com (MaxMindDB) support disabled
  [--db-dbip2-dir       &#60;directory&#62;] : db-ip.com (MaxMindDB) database directory (default: /usr/share/DBIP)
  [--db-dbip2-only-type &#60;TYPE&#62;]      : db-ip.com (MaxMindDB) database only selected type (1-10)
  [--db-dbip2-comm-to-free-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to FREE databases if possible and delta more than 12 months (0=disabled)
  [--disable-dbip                  ] : db-ip.com support disabled
  [--db-dbip-disable               ] : db-ip.com support disabled
  [--db-dbip-dir        &#60;directory&#62;] : db-ip.com database directory (default: /usr/share/DBIP)
  [--db-dbip-only-type &#60;TYPE&#62;]       : db-ip.com database only selected type (1-10)
  [--db-dbip-comm-to-free-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to FREE databases if possible and delta more than 12 months (0=disabled)
  [--disable-external              ] : External support disabled
  [--db-external-disable           ] : External support disabled
  [--db-external-dir    &#60;directory&#62;] : External database directory (default: /usr/share/ipv6calc/db)
  [--disable-builtin               ] : BuiltIn support disabled
  [--db-builtin-disable            ] : BuiltIn support disabled
  [--db-priorization &#60;entry1&#62;[:...]] : Database priorization order list (overwrites default)
                                         colon separated: GeoIP GeoIP2 IP2Location DBIP DBIP2 External BuiltIn
  [-w|--write]               : write output to file instead of stdout
  [-a|--append]              : append output to file instead of stdout
  [-f|--flush]               : flush output after each line
  [-V|--verbose]             : be verbose
  [-n|--nocache]             : disable caching
  [-c|--cachelimit &#60;value&#62;]  : set cache limit
                               default: 20
                               maximum: 200
  Shortcut for anonymization presets:
   --anonymize-standard (default)
   --anonymize-careful
   --anonymize-paranoid
  Supported methods [--anonymize-method METHOD]:
   anonymize : reliable anonymization, keep as much type information as possible
   zeroize   : simple zeroizing according to given masks, probably loose type information
   keep-type-asn-cc: special reliable anonymization, keep type &#38; Autonomous System Number and CountryCode
   keep-type-geonameid: special reliable anonymization, keep type &#38; GeonameID
  Available presets (shortcut names) [--anonymize-preset|ap PRESET-NAME]:
   anonymize-standard   (as): mask-ipv6= 56 mask-ipv4=24 mask-eui64=40 mask-mac=24 mask-autoadjust=yes method=anonymize
   anonymize-careful    (ac): mask-ipv6= 48 mask-ipv4=20 mask-eui64=24 mask-mac=24 mask-autoadjust=yes method=anonymize
   anonymize-paranoid   (ap): mask-ipv6= 40 mask-ipv4=16 mask-eui64= 0 mask-mac=24 mask-autoadjust=no  method=anonymize
   zeroize-standard     (zs): mask-ipv6= 56 mask-ipv4=24 mask-eui64=40 mask-mac=24 mask-autoadjust=yes method=zeroize
   zeroize-careful      (zc): mask-ipv6= 48 mask-ipv4=20 mask-eui64=24 mask-mac=24 mask-autoadjust=yes method=zeroize
   zeroize-paranoid     (zp): mask-ipv6= 40 mask-ipv4=16 mask-eui64= 0 mask-mac=24 mask-autoadjust=no  method=zeroize
   keep-type-asn-cc     (kp): mask-ipv6= 56 mask-ipv4=24 mask-eui64=40 mask-mac=24 mask-autoadjust=yes method=keep-type-asn-cc
   keep-type-geonameid  (kg): mask-ipv6= 56 mask-ipv4=24 mask-eui64=40 mask-mac=24 mask-autoadjust=yes method=keep-type-geonameid
  Custom control:
  --mask-ipv4  &#60;bits&#62;     : mask IPv4 address [0-32] (even if occurs in IPv6 address)
  --mask-ipv6  &#60;bits&#62;     : mask IPv6 prefix [0-64] (only applied to related address types)
  --mask-eui64 &#60;bits&#62;     : mask EUI-64 address or IPv6 interface identifier [0-64]
  --mask-mac   &#60;bits&#62;     : mask MAC address [0-48]
  --mask-autoadjust yes|no: autoadjust mask to keep type/vendor information regardless of less given mask
 Takes data from stdin, outputs the processed data to stdout (default)</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN522"
>11.4. Usage</A
></H3
><DIV
CLASS="SECT3"
><H4
CLASS="SECT3"
><A
NAME="AEN524"
>11.4.1. Offline anonymization</A
></H4
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ cat /path/to/http_log | ./ipv6loganon &#62;/path/to/http_log_anonymized</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN527"
>11.4.2. On-the-fly online anonymization for Apache Webserver</A
></H4
><A
NAME="AEN529"
></A
><BLOCKQUOTE
CLASS="BLOCKQUOTE"
><P
>Note: since 0.91.1 also an module for Apache Webserver is available (see below) supporting anonymized logging</P
></BLOCKQUOTE
><P
>(Supported since 0.90.0)</P
><P
>Adjust or add (note: more than one CustomLog directive is supported by Apache) httpd.conf like following:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>CustomLog "|/usr/local/bin/ipv6loganon -a -f /var/log/httpd/access_log" combined</PRE
></FONT
></TD
></TR
></TABLE
><P
>In case of &#8220;cronolog&#8221; is used on the system, configure like this:</P
><P
></P
><UL
><LI
><P
>Apache version &#60; 2.4:</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>CustomLog "|/usr/bin/ipv6loganon -f |/usr/sbin/cronolog /var/log/httpd/access.log-%Y%m%d" combined </PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
><P
>Apache version &#62;= 2.4:</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>CustomLog "|$/usr/bin/ipv6loganon -f |/usr/sbin/cronolog /var/log/httpd/access.log-%Y%m%d" combined </PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN543"
>12. External database update helper scripts</A
></H2
><P
>The &#8220;tools&#8221; subdirectory contains helper scripts for updating external databases.</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN546"
>12.1. IP2Location</A
></H3
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ /usr/share/ipv6calc/tools/IP2Location-update.sh -h
Usage: IP2Location-update.sh [-D &#60;dir&#62;] [-n] [-s]
	-D &#60;dir&#62;	database destination directory (optional)
	-n		no action (dry-run)
	-s		skip already successfully downloaded files

	database directory: /usr/share/IP2Location (default: /usr/share/IP2Location)

	it honors externally defined environment value: IP2LOCATION_DAT_DIR

 this script will download data from ip2location.com
  into given/set database directory

 Sample databases:
  IP2LOCATION_DAT_FILES_SAMPLE=IPv4:20 IPv6:20 IPv4:24 IPv6:24

 Lite (free) databases:
  IP2LOCATION_DAT_FILES_LITE_FREE=IPv4:1 IPv6:1
 
 With authentication (requires login/password in /home/compile/.ip2location) and a valid subscription
  IP2LOCATION_DAT_FILES_LITE=
 
 Credentials must be defined in $HOME/.ip2location by
  login=IP2LOCATION-LOGIN
  password=IP2LOCATION-PASSWORD

 In addition settings from above can be overwritten by setting related variables</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN549"
>12.2. GeoIP</A
></H3
><P
>Just note that old database format (version 1) is no longer supported for free download, ipv6calc &#62;= 2.0.0 supports also MaxMindDB format, ipv6calc &#62;= 3.0.0 drops legacy download capability</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ /usr/share/ipv6calc/tools/GeoIP-update.sh -h
Usage: GeoIP-update.sh [-D &#60;dir&#62;] [-v] [-s] [-L] [-G]
	-s		skip download
	-D &#60;dir&#62;	database directory (optional)
	-v		verbose
	database directory: @GEOIP2_DB@ (default: @GEOIP2_DB@)
	it honors externally defined environment value:
		prio 1: GEOIP_DAT_DIR
		prio 2: IPV6CALC_DB_GEOIP2_DIR
 adjust /etc/GeoIP.conf in advance:
   EditionIDs GeoLite2-Country GeoLite2-City GeoLite2-ASN
   (in case a valid license key exists, add key and extend EditionIDs related)
   see also https://dev.maxmind.com/geoip/geoipupdate/</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN553"
>12.3. DB-IP.com</A
></H3
><P
>Since ipv6calc &#62;= 2.0.0 supports also MaxMindDB format, so download of CSV files and converting them into BerkeleyDB format is no longer required.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ /usr/share/ipv6calc/tools/DBIP-update.sh -h
Usage: DBIP-update.sh [-v] [-s] [-D &#60;dir&#62;] [-U &#60;url&#62;] [-T &#60;type&#62;]
	-s		skip download
	-v		verbose
	-D &#60;dir&#62;	database directory (optional)
	-U &#60;url&#62;	use URL to download full database
	-T &#60;type&#62;	set type of via URL downloaded file
                          MMDB: country|isp|location|*location-isp*
			  CSV : isp|location|*full*
	database directory: /usr/share/DBIP (default: /usr/share/DBIP)
 it honors externally defined environment value:
	prio 1: DBIP_DAT_DIR
	prio 2: IPV6CALC_DB_DBIP2_DIR
 this script will download data from
 DB-IP.com (default: free versions) the MaxMindDB (mmdb) files DB files for ipv6calc
 "DBIP" database support
 DBIP_DAT_URL_BASE=http://download.db-ip.com/free/
 DBIP_DAT_FILES=dbip-country-lite-%Y-%m.mmdb.gz dbip-city-lite-%Y-%m.mmdb.gz
 in case -U &#60;url&#62; (take URL from subscription e-mail) is provided, it downloads the database
  use -T &#60;type&#62; in case it's not "location-isp"</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN557"
>12.4. External</A
></H3
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ /usr/share/ipv6calc/tools/ipv6calc-db-update.sh -h
Usage: ipv6calc-db-update.sh [-s] [-u] [-D &#60;dir&#62;]
	-s		skip download
	-u		unconditional update
	-D &#60;dir&#62;        database directory (optional)

	database directory: /usr/share/ipv6calc/db (default: /usr/share/ipv6calc/db)

	it honors externally defined environment value: IPV6CALC_DAT_DIR

	this script (and its helper scripts) will download data from
	registries and generate Berkeley DB files for ipv6calc
	"external" database support</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN560"
>13. Perl CGI wrapper program "ipv6calcweb.cgi"</A
></H2
><P
>Because calling C programs directly as CGI isn't really recommended (too much security troubles all the time), I wrote a small wrapper utility which calls "ipv6calc" to get information about client and server address for displaying on a web page. </P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN563"
>13.1. Examples</A
></H3
><P
>A demonstration about which kind of output is possible to produce is shown at</P
><P
></P
><UL
><LI
><P
><A
HREF="http://ip.bieringer.de/"
TARGET="_top"
>http://ip.bieringer.de/</A
> (IPv4/IPv6)</P
></LI
><LI
><P
><A
HREF="http://www.ipv6.bieringer.de/"
TARGET="_top"
>http://www.ipv6.bieringer.de/</A
> (IPv6 only)</P
></LI
><LI
><P
><A
HREF="http://mirrors.bieringer.de/"
TARGET="_top"
>http://mirrors.bieringer.de/</A
> (IPv4/IPv6)</P
></LI
><LI
><P
><A
HREF="http://www.sixxs.net/tools/ipv6calc/"
TARGET="_top"
>http://www.sixxs.net/tools/ipv6calc/</A
> (IPv4/IPv6)</P
></LI
></UL
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN579"
>14. Webserver log statistics helper program "ipv6logstats"</A
></H2
><P
>This program parses a given webserver logfile and count addresses, useful for time period statistics.</P
><P
>Since version 0.95.0 it has extended output, adding a date/time line and statistics by Country Code and ASN (if required databases are available).</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN583"
>14.1. Supported options</A
></H3
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6logstats -h
ipv6logstats: version 2.1.1 STAT_REG STAT_CC STAT_AS
(P) &#38; (C) 2003-2019 by Peter Bieringer &#60;pb (at) bieringer.de&#62;
 Takes web server log data (or any other data which has IPv4/v6 address in first column)
   from stdin and print statistics table/list (depending on option) to stdout
  [-d|--debug &#60;debug value&#62;] : debug value (bitwise like)
                                can also be set by IPV6CALC_DEBUG environment value
  [-v|--version [-v [-v]]]   : version information (2 optional detail levels)
  [-v|--version -h]          : explanation of feature tokens
  [-V|--verbose]             : be more verbose
  [-h|--help|-?]             : this online help
  [-q|--quiet]               : be more quiet
  [--disable-ip2location           ] : IP2Location support disabled
  [--db-ip2location-disable        ] : IP2Location support disabled
  [--db-ip2location-dir &#60;directory&#62;] : IP2Location database directory (default: /usr/share/IP2Location)
  [--db-ip2location-lib &#60;file&#62;     ] : IP2Location library file (default: libIP2Location.so)
  [--db-ip2location-only-type &#60;TYPE&#62;]: IP2Location database only selected type (1-120)
  [--db-ip2location-allow-softlinks] : IP2Location database softlinks allowed
     by default they are ignored because it is hard to autodetect COMM/LITE/SAMPLE
  [--db-ip2location-lite-to-sample-autoswitch-max-delta-months &#60;MONTHS&#62;]:
     autoswitch from LITE to SAMPLE databases if possible and delta is not more than 12 months (0=disabled)
  [--db-ip2location-comm-to-lite-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to LITE databases if possible and delta more than 12 months (0=disabled)
  [--disable-geoip                 ] : GeoIP support disabled
  [--db-geoip-disable              ] : GeoIP support disabled
  [--db-geoip-dir       &#60;directory&#62;] : GeoIP database directory (default: /usr/share/GeoIP)
  [--db-geoip-lib       &#60;file&#62;     ] : GeoIP library file (default: libGeoIP.so.1)
  [--db-mmdb-lib       &#60;file&#62;      ] : MaxMindDB library file (default: libmaxminddb.so.0)
  [--disable-geoip2                ] : GeoIP (MaxMindDB) support disabled
  [--db-geoip2-disable             ] : GeoIP (MaxMindDB) support disabled
  [--db-geoip2-dir      &#60;directory&#62;] : GeoIP (MaxMindDB) database directory (default: /usr/share/GeoIP)
  [--disable-dbip2                 ] : db-ip.com (MaxMindDB) support disabled
  [--db-dbip2-disable              ] : db-ip.com (MaxMindDB) support disabled
  [--db-dbip2-dir       &#60;directory&#62;] : db-ip.com (MaxMindDB) database directory (default: /usr/share/DBIP)
  [--db-dbip2-only-type &#60;TYPE&#62;]      : db-ip.com (MaxMindDB) database only selected type (1-10)
  [--db-dbip2-comm-to-free-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to FREE databases if possible and delta more than 12 months (0=disabled)
  [--disable-dbip                  ] : db-ip.com support disabled
  [--db-dbip-disable               ] : db-ip.com support disabled
  [--db-dbip-dir        &#60;directory&#62;] : db-ip.com database directory (default: /usr/share/DBIP)
  [--db-dbip-only-type &#60;TYPE&#62;]       : db-ip.com database only selected type (1-10)
  [--db-dbip-comm-to-free-switch-min-delta-months &#60;MONTHS&#62;]:
     switch from COMM to FREE databases if possible and delta more than 12 months (0=disabled)
  [--disable-external              ] : External support disabled
  [--db-external-disable           ] : External support disabled
  [--db-external-dir    &#60;directory&#62;] : External database directory (default: /usr/share/ipv6calc/db)
  [--disable-builtin               ] : BuiltIn support disabled
  [--db-builtin-disable            ] : BuiltIn support disabled
  [--db-priorization &#60;entry1&#62;[:...]] : Database priorization order list (overwrites default)
                                         colon separated: GeoIP GeoIP2 IP2Location DBIP DBIP2 External BuiltIn
  [-u|--unknown]             : print unknown IP addresses to stderr
  [-c|--columns]             : print statistics in columns (1)
  [-N|--column-numbers]      : print column numbers
  [-n|--noheader]            : don't print header in columns mode (1)
  [-o|--onlyheader]          : print only header in columns mode (1)
  [-p|--prefix &#60;token&#62;]      : print token as prefix (1)
  [-s|--simple]              : disable extended statistic (CountryCode/ASN)
 (1) unsupported for CountryCode &#38; ASN statistics</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN586"
>14.2. Usage</A
></H3
><P
>There are a README and some helper scripts available in the package how to use this program and how to generate a graph using Gnuplot.</P
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN589"
>14.2.1. Line-by-line output</A
></H4
><P
>The example shows output version 3.0, which </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ zcat ip.bieringer.de-log.201*.gz | ipv6logstats</PRE
></FONT
></TD
></TR
></TABLE
><P
>Header section, since output version 3.0 (&#62;= 0.95.0) additional lines starting with '*3*' and '*DateTime' and '*UnixTime' included</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>*Version             3.0
*DateTime: 2013:11:03 08:57:01+0000 GMT
*UnixTime: 1383469021
*3*DB-Info: DB features: 0x0000133f
*3*DB-Info: GeoIP: features: 0x00000330
*3*DB-Info: GeoIP: info of available databases in directory: /usr/share/GeoIP (max: 31)
*3*DB-Info: GeoIP: GeoIP Country Edition            :[ 1] /usr/share/GeoIP/GeoIP.dat               (GEO-106FREE 20130903 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: GeoIP: GeoIP ASNum Edition              :[ 9] /usr/share/GeoIP/GeoIPASNum.dat          (GEO-117 20130902 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: GeoIP: GeoIP Country V6 Edition         :[12] /usr/share/GeoIP/GeoIPv6.dat             (GEO-106FREE 20131001 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: GeoIP: GeoIP Large Country Edition      :[17] /usr/share/GeoIP/GeoIP.dat               (GEO-106FREE 20130903 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: GeoIP: GeoIP Large Country V6 Edition   :[18] /usr/share/GeoIP/GeoIPv6.dat             (GEO-106FREE 20131001 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: GeoIP: GeoIP ASNum V6 Edition           :[21] /usr/share/GeoIP/GeoIPASNumv6.dat        (GEO-117 20130306 Build 1 Copyright (c) 2013 MaxMind Inc All Rights Reserved)
*3*DB-Info: IP2Location: features: 0x00000300
*3*DB-Info: IP2Location: info of available databases in directory: /usr/share/IP2Location
*3*DB-Info: IP2Location: IPv4 Country               : /usr/share/IP2Location/IP-COUNTRY.BIN    (IP2L-DB20 20130411 Copyright (c) 2013 IP2Location All Rights Reserved)
*3*DB-Info: IP2Location: IPv6 Country               : /usr/share/IP2Location/IPV6-COUNTRY.BIN  (IP2L-DB1 20131025 Copyright (c) 2013 IP2Location All Rights Reserved)
*3*DB-Info: BuiltIn: features: 0x0000100f
*3*DB-Info: BuiltIn: info of available databases
*3*DB-Info: BuiltIn: ASN  : IANA/20130730
*3*DB-Info: BuiltIn: CC   : AFRINIC/20130806 APNIC/20130805 ARIN/20130805 LACNIC/20130805 RIPENCC/20130805
*3*DB-Info: BuiltIn: IPv4 : AFRINIC/20131014 APNIC/20131014 ARIN/20131014 IANA/20130520 LACNIC/20131014 RIPENCC/20131014
*3*DB-Info: BuiltIn: IPv6 : AFRINIC/20131015 APNIC/20131014 ARIN/20131014 IANA/20130215 LACNIC/20131014 RIPENCC/20131014
*3*DB-Info: BuiltIn: IEEE : IAB/20131015 OUI/20131015 OUI36/20131015</PRE
></FONT
></TD
></TR
></TABLE
><P
>Simple statistics section</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ALL                  108525
IPv4                 46233
IPv6                 62292
UNKNOWN              0
IPv4/APNIC           2397
IPv4/ARIN            3525
IPv4/RIPE            40198
IPv4/LACNIC          97
IPv4/UNKNOWN         16
IPv6/6bone           0
IPv6/IANA            0
IPv6/APNIC           129
IPv6/ARIN            839
IPv6/RIPE            61074
IPv6/LACNIC          0
IPv6/RESERVED        0
IPv6/UNKNOWN         0
IPv6/6to4/IANA       0
IPv6/6to4/APNIC      0
IPv6/6to4/ARIN       16
IPv6/6to4/RIPE       51
IPv6/6to4/LACNIC     0
IPv6/6to4/RESERVED   0
IPv6/6to4/UNKNOWN    0
IPv6/Teredo/IANA     0
IPv6/Teredo/APNIC    63
IPv6/Teredo/ARIN     0
IPv6/Teredo/RIPE     90
IPv6/Teredo/LACNIC   30
IPv6/Teredo/RESERVED 0
IPv6/Teredo/UNKNOWN  0
IPv6/NAT64/IANA      0
IPv6/NAT64/APNIC     0
IPv6/NAT64/ARIN      0
IPv6/NAT64/RIPE      0
IPv6/NAT64/LACNIC    0
IPv6/NAT64/RESERVED  0
IPv6/NAT64/UNKNOWN   0
IPv6/IID/Global      1436
IPv6/IID/Random      58198
IPv6/IID/Manual      2055
IPv6/IID/ISATAP      353
IPv6/IID/Unknown     0</PRE
></FONT
></TD
></TR
></TABLE
><P
>External database supported output since output version 3.0 (&#62;= 0.95.0)</P
><P
></P
><UL
><LI
><P
>Country Code / Proto</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>...
*3*CC-code-proto/DE/ALL   96450
*3*CC-code-proto/DE/IPv4  36486
*3*CC-code-proto/DE/IPv6  59964 
*3*CC-code-proto-list/DE  96450 36486 59964
...</PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
><P
>Proto / Country Code (&#8220;ALL&#8221; line contains: ALL IPv4 IPv6)</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>...
*3*CC-proto-code/ALL/DE   96450
*3*CC-proto-code/IPv4/DE  36486
*3*CC-proto-code/IPv6/DE  59964
...
*3*CC-proto-code-list/ALL  108525 46483 62042</PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
><P
>Autonomous System number / Proto</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>...
*3*AS-num-proto/8767/ALL   6054
*3*AS-num-proto/8767/IPv4  2705
*3*AS-num-proto/8767/IPv6  3349
*3*AS-num-proto-list/8767  6054 2705 3349
...</PRE
></FONT
></TD
></TR
></TABLE
><P
></P
><UL
><LI
><P
>Proto / Autonomous System number (&#8220;ALL&#8221; line contains: ALL IPv4 IPv6)</P
></LI
></UL
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>...
*3*AS-proto-num/ALL/8767   6054
*3*AS-proto-num/IPv4/8767  2705
*3*AS-proto-num/IPv6/8767  3349
...
*3*AS-proto-num-list/ALL  108525 46483 62042</PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT3"
><HR><H4
CLASS="SECT3"
><A
NAME="AEN614"
>14.2.2. Column output</A
></H4
><P
>Column output does not support version 3 extension, only simple statistics with a header line:</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ zcat ip.bieringer.de-log.201*.gz | ipv6logstats -q -c 
 IPv4 IPv6 UNKNOWN IPv4/APNIC IPv4/ARIN IPv4/RIPE IPv4/LACNIC IPv4/UNKNOWN IPv6/6bone IPv6/IANA IPv6/APNIC IPv6/ARIN IPv6/RIPE IPv6/LACNIC IPv6/RESERVED IPv6/UNKNOWN IPv6/6to4/IANA IPv6/6to4/APNIC IPv6/6to4/ARIN IPv6/6to4/RIPE IPv6/6to4/LACNIC IPv6/6to4/RESERVED IPv6/6to4/UNKNOWN IPv6/Teredo/IANA IPv6/Teredo/APNIC IPv6/Teredo/ARIN IPv6/Teredo/RIPE IPv6/Teredo/LACNIC IPv6/Teredo/RESERVED IPv6/Teredo/UNKNOWN IPv6/NAT64/IANA IPv6/NAT64/APNIC IPv6/NAT64/ARIN IPv6/NAT64/RIPE IPv6/NAT64/LACNIC IPv6/NAT64/RESERVED IPv6/NAT64/UNKNOWN IPv6/IID/Global IPv6/IID/Random IPv6/IID/Manual IPv6/IID/ISATAP IPv6/IID/Unknown
 46233 62292 0 2397 3525 40198 97 16 0 0 129 839 61074 0 0 0 0 0 16 51 0 0 0 0 63 0 90 30 0 0 0 0 0 0 0 0 0 1436 58198 2055 353 0</PRE
></FONT
></TD
></TR
></TABLE
><P
>An optional prefix token can be given (&#8220;-p &#60;prefix&#62;&#8221;) to create e.g. in a for-loop one line per month and put month in front of statistics, also the header line can be suppressed (&#8220;-n&#8221;).</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ zcat ip.bieringer.de-log.201*.gz | ipv6logstats -q -c -n -p ALL
ALL  46233 62292 0 2397 3525 40198 97 16 0 0 129 839 61074 0 0 0 0 0 16 51 0 0 0 0 63 0 90 30 0 0 0 0 0 0 0 0 0 1436 58198 2055 353 0 </PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN620"
>14.3. Examples</A
></H3
><P
>A demonstration with real data is available at <A
HREF="http://mirrors.bieringer.de/stats/timeline.html"
TARGET="_top"
>http://mirrors.bieringer.de/stats/timeline.html</A
>.</P
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN624"
>15. Apache web server module &#8220;mod_ipv6calc&#8221;</A
></H2
><P
>This Apache web server module (since version 0.99.1, released 2015) interfaces with internal ipv6calc library to support</P
><P
></P
><UL
><LI
><P
>Client IP address anonymization &#8220;on-the-fly&#8221;, exported to IPV6CALC_CLIENT_IP_ANON</P
><P
></P
><UL
><LI
><P
>depending on the configured anonymization method 3rd party database is required</P
></LI
></UL
></LI
><LI
><P
>Country code of client IP address, exported to IPV6CALC_CLIENT_COUNTRYCODE</P
><P
></P
><UL
><LI
><P
>requires 3rd party database: GeoIP or IP2Location or DB-IP.com</P
></LI
></UL
></LI
><LI
><P
>Autonomous System Number (ASN) of client IP address, exported to IPV6CALC_CLIENT_ASN</P
><P
></P
><UL
><LI
><P
>requires 3rd party database: GeoIP</P
></LI
></UL
></LI
><LI
><P
>Registry of client IP address, exported to IPV6CALC_CLIENT_REGISTRY</P
><P
></P
><UL
><LI
><P
>requires internal or &#8220;external&#8221; database</P
></LI
></UL
></LI
><LI
><P
>Configured IP address anonymization method, exported to IPV6CALC_ANON_METHOD</P
></LI
></UL
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN650"
>15.1. Installation</A
></H3
><P
>Install compiled Apache module &#8220;mod_ipv6calc&#8221; to Apache's module directory</P
><P
>Install included default configuration file &#8220;ipv6calc.conf&#8221; to Apache's config directory (usually conf.d)</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN654"
>15.2. Configuration</A
></H3
><P
>Enable in &#8220;ipv6calc.conf&#8221; loading of module</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>LoadModule ipv6calc_module modules/mod_ipv6calc.so</PRE
></FONT
></TD
></TR
></TABLE
><P
>Enable module itself </P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>ipv6calcEnable                         on</PRE
></FONT
></TD
></TR
></TABLE
><P
>Adjust configuration settings, if needed (see examples in &#8220;ipv6calc.conf&#8221;)</P
><P
>Review predefined log format</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>LogFormat "%{IPV6CALC_CLIENT_IP_ANON}e \"%{IPV6CALC_CLIENT_COUNTRYCODE}e/%{IPV6CALC_CLIENT_ASN}e/%{IPV6CALC_CLIENT_REGISTRY}e/%{IPV6CALC_ANON_METHOD}e\" %u %t \"%r\" %&#62;s %b \"%{Referer}i\" \"%{User-Agent}i\"" combined_anon</PRE
></FONT
></TD
></TR
></TABLE
><P
>Enable custom log with anonymized information, using the predefined LogFormat</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>CustomLog logs/access_anon_log combined_anon</PRE
></FONT
></TD
></TR
></TABLE
><P
>Restart Apache web server, check error_log for any issues</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN666"
>15.3. Result</A
></H3
><P
>The new log file contains anonymized requests like</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>252.176.92.172 "CN/23724/APNIC/keep-type-asn-cc" - [25/Jul/2015:13:20:25 +0200] "GET / HTTP/1.1" 200 3569 "-" "Mozilla/5.0 (compatible; Baiduspider/2.0; +http://www.baidu.com/search/spider.html)"

a909:390a:909a:81d9:a909:4291:c02d:5d1d "CZ/43037/RIPENCC/keep-type-asn-cc" - [25/Jul/2015:12:59:00 +0200] "GET /robots.txt HTTP/1.1" 200 33 "-" "Mozilla/5.0 (compatible; SeznamBot/3.2; +http://fulltext.sblog.cz/)" </PRE
></FONT
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN670"
>15.4. Post-analysis in case of anonymization method &#8220;keep-type-asn-cc&#8221;</A
></H3
><P
>In case &#8220;keep-type-asn-cc&#8221; is configured and also working (required databases are available), related information of anonymized IP addresses can be retrieved using &#8220;ipv6calc&#8221; or &#8220;ipv6logstats&#8221;.</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$ ipv6calc -q -m -i 252.176.92.172
IPV4=252.176.92.172
IPV4_TYPE=unicast,anonymized,global
IPV4_AS_NUM=23724
IPV4_COUNTRYCODE=CN
IPV4_REGISTRY=APNIC 
...

$ ipv6calc -q -m -i a909:390a:909a:81d9:a909:4291:c02d:5d1d
IPV6=a909:390a:909a:81d9:a909:4291:c02d:5d1d
IPV6_TYPE=unicast,anonymized-iid,anonymized-prefix,global-unicast,productive,iid,iid-local
IPV6_COUNTRYCODE=CZ
IPV6_AS_NUM=43037
IPV6_REGISTRY=RIPENCC
...</PRE
></FONT
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="SECT1"
><HR><H2
CLASS="SECT1"
><A
NAME="AEN674"
>16. History</A
></H2
><P
>Major extensions/changes are listed here</P
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN677"
>16.1. 2020</A
></H3
><P
></P
><UL
><LI
><P
>drop GeoIP(legacy) support (&#62;= 3.0.0)</P
></LI
><LI
><P
>drop db-ip-com(BerkeleyDB) support (&#62;= 3.0.0)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN684"
>16.2. 2019</A
></H3
><P
></P
><UL
><LI
><P
>add OUI-28 support (&#62;= 2.2.0)</P
></LI
><LI
><P
>add action &#8220;addr2cc&#8221; (can be used as replacement for geoiplookup) (&#62;= 2.1.0)</P
></LI
><LI
><P
>enable &#8220;geonameid&#8221; also in mod_ipv6calc (&#62;= 2.1.0)</P
></LI
><LI
><P
>add anonymization method &#8220;keep-type-geonameid&#8221; (&#62;= 2.1.0)</P
></LI
><LI
><P
>add support for MaxMindDB (GeoIP, db-ip.com) (&#62;= 2.0.0)</P
></LI
><LI
><P
>drop support of IP2Location libraries &#60; 7.0.1 (&#62;= 2.0.0)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN699"
>16.3. 2017</A
></H3
><P
></P
><UL
><LI
><P
>add support for LISP detection</P
></LI
><LI
><P
>add support for non-free versions <A
HREF="http://www.db-ip.com/"
TARGET="_top"
>DB-IP.com</A
> databases</P
></LI
><LI
><P
>finally release 1.0.0 after 16 year of development</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN709"
>16.4. 2016</A
></H3
><P
></P
><UL
><LI
><P
>implement action 'test' and extend action 'filter' with support of address ranges (&#62;= 0.99.2)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN714"
>16.5. 2015</A
></H3
><P
></P
><UL
><LI
><P
>Introduce mod_ipv6calc for Apache web server (&#62;= 0.99.1)</P
></LI
><LI
><P
>Add support for <A
HREF="http://www.db-ip.com/"
TARGET="_top"
>DB-IP.com</A
> databases (by generated Berkeley DB files) (&#62;= 0.98.0)</P
></LI
><LI
><P
>Add support for &#8220;External&#8221; database files (generated Berkeley DB files), superseeding (if newer) built-in IPv4/IPv6-&#62;Registry and adding IPv4/IPv6-&#62;CountryCode support (&#62;= 0.98.0)</P
></LI
><LI
><P
>Extend filter options with support of CountryCode, ASN or Registry (&#62;= 0.99.0)</P
></LI
><LI
><P
>Add support for <A
HREF="http://lite.ip2location.com/"
TARGET="_top"
>IP2Location LITE</A
> databases (&#62;= 0.99.0), add configurable IP2Location database autoselection support</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN729"
>16.6. 2014</A
></H3
><P
></P
><UL
><LI
><P
>Shared library mode supported (reduces size of binaries)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN734"
>16.7. 2013</A
></H3
><P
></P
><UL
><LI
><P
>Prefix and IID anonymization methods</P
></LI
><LI
><P
>Support of dynamic load of GeoIP and IP2Location libraries</P
></LI
><LI
><P
>Specifying dedicated GeoIP and IP2Location database files is now replaced by specifying dedicated database directories to make especially for GeoIP use of more database files.</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN743"
>16.8. 2011</A
></H3
><P
></P
><UL
><LI
><P
>ipv6calc/ipv6calcweb.cgi: enable included GeoIP support with IPv6 (usable with GeoIP &#62;= 1.4.5)</P
></LI
><LI
><P
>ipv6calc: extend for 6rd support (--action 6rd_local_prefix --6rd_prefix &#60;PREFIX&#62; --6rd_relay_prefix &#60;RELAY_PREFIX&#62;)</P
></LI
><LI
><P
>ipv6calc: enable stdin support for bulk transformation</P
></LI
><LI
><P
>ipv6calc: add support for NAT64 address type</P
></LI
><LI
><P
>ipv6calc: add option &#8220;forceprefix &#60;LENGTH&#62;&#8221; to print prefix of an address without a given prefix length</P
></LI
><LI
><P
>ipv6loganon: extend for pipe usage (e.g. in Apache log file directive) and write/append to specified file</P
></LI
><LI
><P
>General: add configure options to disable built-in databases (reduce binary size a lot, e.g. for embedded devices)</P
></LI
></UL
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN760"
>16.9. 2002-2010</A
></H3
><P
>See <A
HREF="https://raw.githubusercontent.com/pbiering/ipv6calc/master/ChangeLog"
TARGET="_top"
>ChangeLog@GitHub</A
> for now</P
></DIV
><DIV
CLASS="SECT2"
><HR><H3
CLASS="SECT2"
><A
NAME="AEN764"
>16.10. 2001</A
></H3
><P
></P
><UL
><LI
><P
>Start of development</P
></LI
></UL
></DIV
></DIV
></DIV
></BODY
></HTML
>